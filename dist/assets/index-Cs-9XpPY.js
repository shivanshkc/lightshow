var wf=Object.defineProperty;var Sf=(e,t,n)=>t in e?wf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var N=(e,t,n)=>Sf(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Yu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Qu={exports:{}},ji={},Xu={exports:{}},F={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yr=Symbol.for("react.element"),kf=Symbol.for("react.portal"),Cf=Symbol.for("react.fragment"),Ef=Symbol.for("react.strict_mode"),Pf=Symbol.for("react.profiler"),Mf=Symbol.for("react.provider"),_f=Symbol.for("react.context"),jf=Symbol.for("react.forward_ref"),Tf=Symbol.for("react.suspense"),Nf=Symbol.for("react.memo"),If=Symbol.for("react.lazy"),ms=Symbol.iterator;function zf(e){return e===null||typeof e!="object"?null:(e=ms&&e[ms]||e["@@iterator"],typeof e=="function"?e:null)}var Ku={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Zu=Object.assign,qu={};function _n(e,t,n){this.props=e,this.context=t,this.refs=qu,this.updater=n||Ku}_n.prototype.isReactComponent={};_n.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};_n.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ju(){}Ju.prototype=_n.prototype;function xl(e,t,n){this.props=e,this.context=t,this.refs=qu,this.updater=n||Ku}var wl=xl.prototype=new Ju;wl.constructor=xl;Zu(wl,_n.prototype);wl.isPureReactComponent=!0;var ys=Array.isArray,ea=Object.prototype.hasOwnProperty,Sl={current:null},ta={key:!0,ref:!0,__self:!0,__source:!0};function na(e,t,n){var r,i={},o=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(o=""+t.key),t)ea.call(t,r)&&!ta.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var u=Array(s),a=0;a<s;a++)u[a]=arguments[a+2];i.children=u}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:yr,type:e,key:o,ref:l,props:i,_owner:Sl.current}}function Rf(e,t){return{$$typeof:yr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function kl(e){return typeof e=="object"&&e!==null&&e.$$typeof===yr}function Lf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var vs=/\/+/g;function Wi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Lf(""+e.key):t.toString(36)}function Hr(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case yr:case kf:l=!0}}if(l)return l=e,i=i(l),e=r===""?"."+Wi(l,0):r,ys(i)?(n="",e!=null&&(n=e.replace(vs,"$&/")+"/"),Hr(i,t,n,"",function(a){return a})):i!=null&&(kl(i)&&(i=Rf(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(vs,"$&/")+"/")+e)),t.push(i)),1;if(l=0,r=r===""?".":r+":",ys(e))for(var s=0;s<e.length;s++){o=e[s];var u=r+Wi(o,s);l+=Hr(o,t,n,u,i)}else if(u=zf(e),typeof u=="function")for(e=u.call(e),s=0;!(o=e.next()).done;)o=o.value,u=r+Wi(o,s++),l+=Hr(o,t,n,u,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Cr(e,t,n){if(e==null)return e;var r=[],i=0;return Hr(e,r,"","",function(o){return t.call(n,o,i++)}),r}function Of(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ve={current:null},$r={transition:null},Df={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:$r,ReactCurrentOwner:Sl};function ra(){throw Error("act(...) is not supported in production builds of React.")}F.Children={map:Cr,forEach:function(e,t,n){Cr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Cr(e,function(){t++}),t},toArray:function(e){return Cr(e,function(t){return t})||[]},only:function(e){if(!kl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};F.Component=_n;F.Fragment=Cf;F.Profiler=Pf;F.PureComponent=xl;F.StrictMode=Ef;F.Suspense=Tf;F.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Df;F.act=ra;F.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Zu({},e.props),i=e.key,o=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,l=Sl.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(u in t)ea.call(t,u)&&!ta.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&s!==void 0?s[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){s=Array(u);for(var a=0;a<u;a++)s[a]=arguments[a+2];r.children=s}return{$$typeof:yr,type:e.type,key:i,ref:o,props:r,_owner:l}};F.createContext=function(e){return e={$$typeof:_f,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Mf,_context:e},e.Consumer=e};F.createElement=na;F.createFactory=function(e){var t=na.bind(null,e);return t.type=e,t};F.createRef=function(){return{current:null}};F.forwardRef=function(e){return{$$typeof:jf,render:e}};F.isValidElement=kl;F.lazy=function(e){return{$$typeof:If,_payload:{_status:-1,_result:e},_init:Of}};F.memo=function(e,t){return{$$typeof:Nf,type:e,compare:t===void 0?null:t}};F.startTransition=function(e){var t=$r.transition;$r.transition={};try{e()}finally{$r.transition=t}};F.unstable_act=ra;F.useCallback=function(e,t){return ve.current.useCallback(e,t)};F.useContext=function(e){return ve.current.useContext(e)};F.useDebugValue=function(){};F.useDeferredValue=function(e){return ve.current.useDeferredValue(e)};F.useEffect=function(e,t){return ve.current.useEffect(e,t)};F.useId=function(){return ve.current.useId()};F.useImperativeHandle=function(e,t,n){return ve.current.useImperativeHandle(e,t,n)};F.useInsertionEffect=function(e,t){return ve.current.useInsertionEffect(e,t)};F.useLayoutEffect=function(e,t){return ve.current.useLayoutEffect(e,t)};F.useMemo=function(e,t){return ve.current.useMemo(e,t)};F.useReducer=function(e,t,n){return ve.current.useReducer(e,t,n)};F.useRef=function(e){return ve.current.useRef(e)};F.useState=function(e){return ve.current.useState(e)};F.useSyncExternalStore=function(e,t,n){return ve.current.useSyncExternalStore(e,t,n)};F.useTransition=function(){return ve.current.useTransition()};F.version="18.3.1";Xu.exports=F;var z=Xu.exports;const ia=Yu(z);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Af=z,Ff=Symbol.for("react.element"),Bf=Symbol.for("react.fragment"),Uf=Object.prototype.hasOwnProperty,Vf=Af.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Gf={key:!0,ref:!0,__self:!0,__source:!0};function oa(e,t,n){var r,i={},o=null,l=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)Uf.call(t,r)&&!Gf.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Ff,type:e,key:o,ref:l,props:i,_owner:Vf.current}}ji.Fragment=Bf;ji.jsx=oa;ji.jsxs=oa;Qu.exports=ji;var k=Qu.exports,Po={},la={exports:{}},Ne={},sa={exports:{}},ua={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,L){var R=T.length;T.push(L);e:for(;0<R;){var $=R-1>>>1,q=T[$];if(0<i(q,L))T[$]=L,T[R]=q,R=$;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var L=T[0],R=T.pop();if(R!==L){T[0]=R;e:for(var $=0,q=T.length,Sr=q>>>1;$<Sr;){var zt=2*($+1)-1,$i=T[zt],Rt=zt+1,kr=T[Rt];if(0>i($i,R))Rt<q&&0>i(kr,$i)?(T[$]=kr,T[Rt]=R,$=Rt):(T[$]=$i,T[zt]=R,$=zt);else if(Rt<q&&0>i(kr,R))T[$]=kr,T[Rt]=R,$=Rt;else break e}}return L}function i(T,L){var R=T.sortIndex-L.sortIndex;return R!==0?R:T.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,s=l.now();e.unstable_now=function(){return l.now()-s}}var u=[],a=[],c=1,f=null,h=3,g=!1,v=!1,x=!1,P=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(T){for(var L=n(a);L!==null;){if(L.callback===null)r(a);else if(L.startTime<=T)r(a),L.sortIndex=L.expirationTime,t(u,L);else break;L=n(a)}}function y(T){if(x=!1,m(T),!v)if(n(u)!==null)v=!0,Fe(w);else{var L=n(a);L!==null&&Be(y,L.startTime-T)}}function w(T,L){v=!1,x&&(x=!1,p(E),E=-1),g=!0;var R=h;try{for(m(L),f=n(u);f!==null&&(!(f.expirationTime>L)||T&&!O());){var $=f.callback;if(typeof $=="function"){f.callback=null,h=f.priorityLevel;var q=$(f.expirationTime<=L);L=e.unstable_now(),typeof q=="function"?f.callback=q:f===n(u)&&r(u),m(L)}else r(u);f=n(u)}if(f!==null)var Sr=!0;else{var zt=n(a);zt!==null&&Be(y,zt.startTime-L),Sr=!1}return Sr}finally{f=null,h=R,g=!1}}var S=!1,C=null,E=-1,_=5,j=-1;function O(){return!(e.unstable_now()-j<_)}function D(){if(C!==null){var T=e.unstable_now();j=T;var L=!0;try{L=C(!0,T)}finally{L?B():(S=!1,C=null)}}else S=!1}var B;if(typeof d=="function")B=function(){d(D)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,he=A.port2;A.port1.onmessage=D,B=function(){he.postMessage(null)}}else B=function(){P(D,0)};function Fe(T){C=T,S||(S=!0,B())}function Be(T,L){E=P(function(){T(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){v||g||(v=!0,Fe(w))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(T){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var R=h;h=L;try{return T()}finally{h=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,L){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var R=h;h=T;try{return L()}finally{h=R}},e.unstable_scheduleCallback=function(T,L,R){var $=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?$+R:$):R=$,T){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=R+q,T={id:c++,callback:L,priorityLevel:T,startTime:R,expirationTime:q,sortIndex:-1},R>$?(T.sortIndex=R,t(a,T),n(u)===null&&T===n(a)&&(x?(p(E),E=-1):x=!0,Be(y,R-$))):(T.sortIndex=q,t(u,T),v||g||(v=!0,Fe(w))),T},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(T){var L=h;return function(){var R=h;h=L;try{return T.apply(this,arguments)}finally{h=R}}}})(ua);sa.exports=ua;var bf=sa.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hf=z,Te=bf;function M(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var aa=new Set,Jn={};function Yt(e,t){gn(e,t),gn(e+"Capture",t)}function gn(e,t){for(Jn[e]=t,e=0;e<t.length;e++)aa.add(t[e])}var lt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mo=Object.prototype.hasOwnProperty,$f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gs={},xs={};function Wf(e){return Mo.call(xs,e)?!0:Mo.call(gs,e)?!1:$f.test(e)?xs[e]=!0:(gs[e]=!0,!1)}function Yf(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Qf(e,t,n,r){if(t===null||typeof t>"u"||Yf(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ge(e,t,n,r,i,o,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=l}var ae={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ae[e]=new ge(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ae[t]=new ge(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ae[e]=new ge(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ae[e]=new ge(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ae[e]=new ge(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ae[e]=new ge(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ae[e]=new ge(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ae[e]=new ge(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ae[e]=new ge(e,5,!1,e.toLowerCase(),null,!1,!1)});var Cl=/[\-:]([a-z])/g;function El(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Cl,El);ae[t]=new ge(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Cl,El);ae[t]=new ge(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Cl,El);ae[t]=new ge(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ae[e]=new ge(e,1,!1,e.toLowerCase(),null,!1,!1)});ae.xlinkHref=new ge("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ae[e]=new ge(e,1,!1,e.toLowerCase(),null,!0,!0)});function Pl(e,t,n,r){var i=ae.hasOwnProperty(t)?ae[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Qf(t,n,i,r)&&(n=null),r||i===null?Wf(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ct=Hf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Er=Symbol.for("react.element"),qt=Symbol.for("react.portal"),Jt=Symbol.for("react.fragment"),Ml=Symbol.for("react.strict_mode"),_o=Symbol.for("react.profiler"),ca=Symbol.for("react.provider"),fa=Symbol.for("react.context"),_l=Symbol.for("react.forward_ref"),jo=Symbol.for("react.suspense"),To=Symbol.for("react.suspense_list"),jl=Symbol.for("react.memo"),dt=Symbol.for("react.lazy"),da=Symbol.for("react.offscreen"),ws=Symbol.iterator;function Nn(e){return e===null||typeof e!="object"?null:(e=ws&&e[ws]||e["@@iterator"],typeof e=="function"?e:null)}var Z=Object.assign,Yi;function Bn(e){if(Yi===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Yi=t&&t[1]||""}return`
`+Yi+e}var Qi=!1;function Xi(e,t){if(!e||Qi)return"";Qi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(a){var r=a}Reflect.construct(e,[],t)}else{try{t.call()}catch(a){r=a}e.call(t.prototype)}else{try{throw Error()}catch(a){r=a}e()}}catch(a){if(a&&r&&typeof a.stack=="string"){for(var i=a.stack.split(`
`),o=r.stack.split(`
`),l=i.length-1,s=o.length-1;1<=l&&0<=s&&i[l]!==o[s];)s--;for(;1<=l&&0<=s;l--,s--)if(i[l]!==o[s]){if(l!==1||s!==1)do if(l--,s--,0>s||i[l]!==o[s]){var u=`
`+i[l].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=l&&0<=s);break}}}finally{Qi=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Bn(e):""}function Xf(e){switch(e.tag){case 5:return Bn(e.type);case 16:return Bn("Lazy");case 13:return Bn("Suspense");case 19:return Bn("SuspenseList");case 0:case 2:case 15:return e=Xi(e.type,!1),e;case 11:return e=Xi(e.type.render,!1),e;case 1:return e=Xi(e.type,!0),e;default:return""}}function No(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Jt:return"Fragment";case qt:return"Portal";case _o:return"Profiler";case Ml:return"StrictMode";case jo:return"Suspense";case To:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case fa:return(e.displayName||"Context")+".Consumer";case ca:return(e._context.displayName||"Context")+".Provider";case _l:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case jl:return t=e.displayName||null,t!==null?t:No(e.type)||"Memo";case dt:t=e._payload,e=e._init;try{return No(e(t))}catch{}}return null}function Kf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return No(t);case 8:return t===Ml?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function _t(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pa(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Zf(e){var t=pa(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,o.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pr(e){e._valueTracker||(e._valueTracker=Zf(e))}function ha(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=pa(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ii(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Io(e,t){var n=t.checked;return Z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ss(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=_t(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ma(e,t){t=t.checked,t!=null&&Pl(e,"checked",t,!1)}function zo(e,t){ma(e,t);var n=_t(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ro(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ro(e,t.type,_t(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ks(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ro(e,t,n){(t!=="number"||ii(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Un=Array.isArray;function fn(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+_t(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Lo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(M(91));return Z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Cs(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(M(92));if(Un(n)){if(1<n.length)throw Error(M(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:_t(n)}}function ya(e,t){var n=_t(t.value),r=_t(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Es(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function va(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Oo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?va(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Mr,ga=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Mr=Mr||document.createElement("div"),Mr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Mr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function er(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var bn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qf=["Webkit","ms","Moz","O"];Object.keys(bn).forEach(function(e){qf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),bn[t]=bn[e]})});function xa(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||bn.hasOwnProperty(e)&&bn[e]?(""+t).trim():t+"px"}function wa(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=xa(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Jf=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Do(e,t){if(t){if(Jf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(M(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(M(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(M(61))}if(t.style!=null&&typeof t.style!="object")throw Error(M(62))}}function Ao(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fo=null;function Tl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Bo=null,dn=null,pn=null;function Ps(e){if(e=xr(e)){if(typeof Bo!="function")throw Error(M(280));var t=e.stateNode;t&&(t=Ri(t),Bo(e.stateNode,e.type,t))}}function Sa(e){dn?pn?pn.push(e):pn=[e]:dn=e}function ka(){if(dn){var e=dn,t=pn;if(pn=dn=null,Ps(e),t)for(e=0;e<t.length;e++)Ps(t[e])}}function Ca(e,t){return e(t)}function Ea(){}var Ki=!1;function Pa(e,t,n){if(Ki)return e(t,n);Ki=!0;try{return Ca(e,t,n)}finally{Ki=!1,(dn!==null||pn!==null)&&(Ea(),ka())}}function tr(e,t){var n=e.stateNode;if(n===null)return null;var r=Ri(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(M(231,t,typeof n));return n}var Uo=!1;if(lt)try{var In={};Object.defineProperty(In,"passive",{get:function(){Uo=!0}}),window.addEventListener("test",In,In),window.removeEventListener("test",In,In)}catch{Uo=!1}function ed(e,t,n,r,i,o,l,s,u){var a=Array.prototype.slice.call(arguments,3);try{t.apply(n,a)}catch(c){this.onError(c)}}var Hn=!1,oi=null,li=!1,Vo=null,td={onError:function(e){Hn=!0,oi=e}};function nd(e,t,n,r,i,o,l,s,u){Hn=!1,oi=null,ed.apply(td,arguments)}function rd(e,t,n,r,i,o,l,s,u){if(nd.apply(this,arguments),Hn){if(Hn){var a=oi;Hn=!1,oi=null}else throw Error(M(198));li||(li=!0,Vo=a)}}function Qt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ma(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ms(e){if(Qt(e)!==e)throw Error(M(188))}function id(e){var t=e.alternate;if(!t){if(t=Qt(e),t===null)throw Error(M(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ms(i),e;if(o===r)return Ms(i),t;o=o.sibling}throw Error(M(188))}if(n.return!==r.return)n=i,r=o;else{for(var l=!1,s=i.child;s;){if(s===n){l=!0,n=i,r=o;break}if(s===r){l=!0,r=i,n=o;break}s=s.sibling}if(!l){for(s=o.child;s;){if(s===n){l=!0,n=o,r=i;break}if(s===r){l=!0,r=o,n=i;break}s=s.sibling}if(!l)throw Error(M(189))}}if(n.alternate!==r)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?e:t}function _a(e){return e=id(e),e!==null?ja(e):null}function ja(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ja(e);if(t!==null)return t;e=e.sibling}return null}var Ta=Te.unstable_scheduleCallback,_s=Te.unstable_cancelCallback,od=Te.unstable_shouldYield,ld=Te.unstable_requestPaint,ee=Te.unstable_now,sd=Te.unstable_getCurrentPriorityLevel,Nl=Te.unstable_ImmediatePriority,Na=Te.unstable_UserBlockingPriority,si=Te.unstable_NormalPriority,ud=Te.unstable_LowPriority,Ia=Te.unstable_IdlePriority,Ti=null,qe=null;function ad(e){if(qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Ti,e,void 0,(e.current.flags&128)===128)}catch{}}var He=Math.clz32?Math.clz32:dd,cd=Math.log,fd=Math.LN2;function dd(e){return e>>>=0,e===0?32:31-(cd(e)/fd|0)|0}var _r=64,jr=4194304;function Vn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ui(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,l=n&268435455;if(l!==0){var s=l&~i;s!==0?r=Vn(s):(o&=l,o!==0&&(r=Vn(o)))}else l=n&~i,l!==0?r=Vn(l):o!==0&&(r=Vn(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-He(t),i=1<<n,r|=e[n],t&=~i;return r}function pd(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hd(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var l=31-He(o),s=1<<l,u=i[l];u===-1?(!(s&n)||s&r)&&(i[l]=pd(s,t)):u<=t&&(e.expiredLanes|=s),o&=~s}}function Go(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function za(){var e=_r;return _r<<=1,!(_r&4194240)&&(_r=64),e}function Zi(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-He(t),e[t]=n}function md(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-He(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Il(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-He(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var G=0;function Ra(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var La,zl,Oa,Da,Aa,bo=!1,Tr=[],xt=null,wt=null,St=null,nr=new Map,rr=new Map,ht=[],yd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function js(e,t){switch(e){case"focusin":case"focusout":xt=null;break;case"dragenter":case"dragleave":wt=null;break;case"mouseover":case"mouseout":St=null;break;case"pointerover":case"pointerout":nr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rr.delete(t.pointerId)}}function zn(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=xr(t),t!==null&&zl(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function vd(e,t,n,r,i){switch(t){case"focusin":return xt=zn(xt,e,t,n,r,i),!0;case"dragenter":return wt=zn(wt,e,t,n,r,i),!0;case"mouseover":return St=zn(St,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return nr.set(o,zn(nr.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,rr.set(o,zn(rr.get(o)||null,e,t,n,r,i)),!0}return!1}function Fa(e){var t=Dt(e.target);if(t!==null){var n=Qt(t);if(n!==null){if(t=n.tag,t===13){if(t=Ma(n),t!==null){e.blockedOn=t,Aa(e.priority,function(){Oa(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ho(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Fo=r,n.target.dispatchEvent(r),Fo=null}else return t=xr(n),t!==null&&zl(t),e.blockedOn=n,!1;t.shift()}return!0}function Ts(e,t,n){Wr(e)&&n.delete(t)}function gd(){bo=!1,xt!==null&&Wr(xt)&&(xt=null),wt!==null&&Wr(wt)&&(wt=null),St!==null&&Wr(St)&&(St=null),nr.forEach(Ts),rr.forEach(Ts)}function Rn(e,t){e.blockedOn===t&&(e.blockedOn=null,bo||(bo=!0,Te.unstable_scheduleCallback(Te.unstable_NormalPriority,gd)))}function ir(e){function t(i){return Rn(i,e)}if(0<Tr.length){Rn(Tr[0],e);for(var n=1;n<Tr.length;n++){var r=Tr[n];r.blockedOn===e&&(r.blockedOn=null)}}for(xt!==null&&Rn(xt,e),wt!==null&&Rn(wt,e),St!==null&&Rn(St,e),nr.forEach(t),rr.forEach(t),n=0;n<ht.length;n++)r=ht[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&(n=ht[0],n.blockedOn===null);)Fa(n),n.blockedOn===null&&ht.shift()}var hn=ct.ReactCurrentBatchConfig,ai=!0;function xd(e,t,n,r){var i=G,o=hn.transition;hn.transition=null;try{G=1,Rl(e,t,n,r)}finally{G=i,hn.transition=o}}function wd(e,t,n,r){var i=G,o=hn.transition;hn.transition=null;try{G=4,Rl(e,t,n,r)}finally{G=i,hn.transition=o}}function Rl(e,t,n,r){if(ai){var i=Ho(e,t,n,r);if(i===null)so(e,t,r,ci,n),js(e,r);else if(vd(i,e,t,n,r))r.stopPropagation();else if(js(e,r),t&4&&-1<yd.indexOf(e)){for(;i!==null;){var o=xr(i);if(o!==null&&La(o),o=Ho(e,t,n,r),o===null&&so(e,t,r,ci,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else so(e,t,r,null,n)}}var ci=null;function Ho(e,t,n,r){if(ci=null,e=Tl(r),e=Dt(e),e!==null)if(t=Qt(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ma(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ci=e,null}function Ba(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sd()){case Nl:return 1;case Na:return 4;case si:case ud:return 16;case Ia:return 536870912;default:return 16}default:return 16}}var yt=null,Ll=null,Yr=null;function Ua(){if(Yr)return Yr;var e,t=Ll,n=t.length,r,i="value"in yt?yt.value:yt.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===i[o-r];r++);return Yr=i.slice(e,1<r?1-r:void 0)}function Qr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Nr(){return!0}function Ns(){return!1}function Ie(e){function t(n,r,i,o,l){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Nr:Ns,this.isPropagationStopped=Ns,this}return Z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Nr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Nr)},persist:function(){},isPersistent:Nr}),t}var jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ol=Ie(jn),gr=Z({},jn,{view:0,detail:0}),Sd=Ie(gr),qi,Ji,Ln,Ni=Z({},gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ln&&(Ln&&e.type==="mousemove"?(qi=e.screenX-Ln.screenX,Ji=e.screenY-Ln.screenY):Ji=qi=0,Ln=e),qi)},movementY:function(e){return"movementY"in e?e.movementY:Ji}}),Is=Ie(Ni),kd=Z({},Ni,{dataTransfer:0}),Cd=Ie(kd),Ed=Z({},gr,{relatedTarget:0}),eo=Ie(Ed),Pd=Z({},jn,{animationName:0,elapsedTime:0,pseudoElement:0}),Md=Ie(Pd),_d=Z({},jn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jd=Ie(_d),Td=Z({},jn,{data:0}),zs=Ie(Td),Nd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Id={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rd(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=zd[e])?!!t[e]:!1}function Dl(){return Rd}var Ld=Z({},gr,{key:function(e){if(e.key){var t=Nd[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Qr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Id[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dl,charCode:function(e){return e.type==="keypress"?Qr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Od=Ie(Ld),Dd=Z({},Ni,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rs=Ie(Dd),Ad=Z({},gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dl}),Fd=Ie(Ad),Bd=Z({},jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ud=Ie(Bd),Vd=Z({},Ni,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Gd=Ie(Vd),bd=[9,13,27,32],Al=lt&&"CompositionEvent"in window,$n=null;lt&&"documentMode"in document&&($n=document.documentMode);var Hd=lt&&"TextEvent"in window&&!$n,Va=lt&&(!Al||$n&&8<$n&&11>=$n),Ls=" ",Os=!1;function Ga(e,t){switch(e){case"keyup":return bd.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ba(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var en=!1;function $d(e,t){switch(e){case"compositionend":return ba(t);case"keypress":return t.which!==32?null:(Os=!0,Ls);case"textInput":return e=t.data,e===Ls&&Os?null:e;default:return null}}function Wd(e,t){if(en)return e==="compositionend"||!Al&&Ga(e,t)?(e=Ua(),Yr=Ll=yt=null,en=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Va&&t.locale!=="ko"?null:t.data;default:return null}}var Yd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ds(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Yd[e.type]:t==="textarea"}function Ha(e,t,n,r){Sa(r),t=fi(t,"onChange"),0<t.length&&(n=new Ol("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,or=null;function Qd(e){tc(e,0)}function Ii(e){var t=rn(e);if(ha(t))return e}function Xd(e,t){if(e==="change")return t}var $a=!1;if(lt){var to;if(lt){var no="oninput"in document;if(!no){var As=document.createElement("div");As.setAttribute("oninput","return;"),no=typeof As.oninput=="function"}to=no}else to=!1;$a=to&&(!document.documentMode||9<document.documentMode)}function Fs(){Wn&&(Wn.detachEvent("onpropertychange",Wa),or=Wn=null)}function Wa(e){if(e.propertyName==="value"&&Ii(or)){var t=[];Ha(t,or,e,Tl(e)),Pa(Qd,t)}}function Kd(e,t,n){e==="focusin"?(Fs(),Wn=t,or=n,Wn.attachEvent("onpropertychange",Wa)):e==="focusout"&&Fs()}function Zd(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ii(or)}function qd(e,t){if(e==="click")return Ii(t)}function Jd(e,t){if(e==="input"||e==="change")return Ii(t)}function ep(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ye=typeof Object.is=="function"?Object.is:ep;function lr(e,t){if(Ye(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Mo.call(t,i)||!Ye(e[i],t[i]))return!1}return!0}function Bs(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Us(e,t){var n=Bs(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Bs(n)}}function Ya(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ya(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Qa(){for(var e=window,t=ii();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ii(e.document)}return t}function Fl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function tp(e){var t=Qa(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ya(n.ownerDocument.documentElement,n)){if(r!==null&&Fl(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Us(n,o);var l=Us(n,r);i&&l&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var np=lt&&"documentMode"in document&&11>=document.documentMode,tn=null,$o=null,Yn=null,Wo=!1;function Vs(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wo||tn==null||tn!==ii(r)||(r=tn,"selectionStart"in r&&Fl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Yn&&lr(Yn,r)||(Yn=r,r=fi($o,"onSelect"),0<r.length&&(t=new Ol("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=tn)))}function Ir(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var nn={animationend:Ir("Animation","AnimationEnd"),animationiteration:Ir("Animation","AnimationIteration"),animationstart:Ir("Animation","AnimationStart"),transitionend:Ir("Transition","TransitionEnd")},ro={},Xa={};lt&&(Xa=document.createElement("div").style,"AnimationEvent"in window||(delete nn.animationend.animation,delete nn.animationiteration.animation,delete nn.animationstart.animation),"TransitionEvent"in window||delete nn.transitionend.transition);function zi(e){if(ro[e])return ro[e];if(!nn[e])return e;var t=nn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Xa)return ro[e]=t[n];return e}var Ka=zi("animationend"),Za=zi("animationiteration"),qa=zi("animationstart"),Ja=zi("transitionend"),ec=new Map,Gs="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tt(e,t){ec.set(e,t),Yt(t,[e])}for(var io=0;io<Gs.length;io++){var oo=Gs[io],rp=oo.toLowerCase(),ip=oo[0].toUpperCase()+oo.slice(1);Tt(rp,"on"+ip)}Tt(Ka,"onAnimationEnd");Tt(Za,"onAnimationIteration");Tt(qa,"onAnimationStart");Tt("dblclick","onDoubleClick");Tt("focusin","onFocus");Tt("focusout","onBlur");Tt(Ja,"onTransitionEnd");gn("onMouseEnter",["mouseout","mouseover"]);gn("onMouseLeave",["mouseout","mouseover"]);gn("onPointerEnter",["pointerout","pointerover"]);gn("onPointerLeave",["pointerout","pointerover"]);Yt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yt("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),op=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gn));function bs(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,rd(r,t,void 0,e),e.currentTarget=null}function tc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var l=r.length-1;0<=l;l--){var s=r[l],u=s.instance,a=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;bs(i,s,a),o=u}else for(l=0;l<r.length;l++){if(s=r[l],u=s.instance,a=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;bs(i,s,a),o=u}}}if(li)throw e=Vo,li=!1,Vo=null,e}function W(e,t){var n=t[Zo];n===void 0&&(n=t[Zo]=new Set);var r=e+"__bubble";n.has(r)||(nc(t,e,2,!1),n.add(r))}function lo(e,t,n){var r=0;t&&(r|=4),nc(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function sr(e){if(!e[zr]){e[zr]=!0,aa.forEach(function(n){n!=="selectionchange"&&(op.has(n)||lo(n,!1,e),lo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[zr]||(t[zr]=!0,lo("selectionchange",!1,t))}}function nc(e,t,n,r){switch(Ba(t)){case 1:var i=xd;break;case 4:i=wd;break;default:i=Rl}n=i.bind(null,t,n,e),i=void 0,!Uo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function so(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(l===4)for(l=r.return;l!==null;){var u=l.tag;if((u===3||u===4)&&(u=l.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;l=l.return}for(;s!==null;){if(l=Dt(s),l===null)return;if(u=l.tag,u===5||u===6){r=o=l;continue e}s=s.parentNode}}r=r.return}Pa(function(){var a=o,c=Tl(n),f=[];e:{var h=ec.get(e);if(h!==void 0){var g=Ol,v=e;switch(e){case"keypress":if(Qr(n)===0)break e;case"keydown":case"keyup":g=Od;break;case"focusin":v="focus",g=eo;break;case"focusout":v="blur",g=eo;break;case"beforeblur":case"afterblur":g=eo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Is;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Cd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Fd;break;case Ka:case Za:case qa:g=Md;break;case Ja:g=Ud;break;case"scroll":g=Sd;break;case"wheel":g=Gd;break;case"copy":case"cut":case"paste":g=jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Rs}var x=(t&4)!==0,P=!x&&e==="scroll",p=x?h!==null?h+"Capture":null:h;x=[];for(var d=a,m;d!==null;){m=d;var y=m.stateNode;if(m.tag===5&&y!==null&&(m=y,p!==null&&(y=tr(d,p),y!=null&&x.push(ur(d,y,m)))),P)break;d=d.return}0<x.length&&(h=new g(h,v,null,n,c),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&n!==Fo&&(v=n.relatedTarget||n.fromElement)&&(Dt(v)||v[st]))break e;if((g||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=a,v=v?Dt(v):null,v!==null&&(P=Qt(v),v!==P||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=a),g!==v)){if(x=Is,y="onMouseLeave",p="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(x=Rs,y="onPointerLeave",p="onPointerEnter",d="pointer"),P=g==null?h:rn(g),m=v==null?h:rn(v),h=new x(y,d+"leave",g,n,c),h.target=P,h.relatedTarget=m,y=null,Dt(c)===a&&(x=new x(p,d+"enter",v,n,c),x.target=m,x.relatedTarget=P,y=x),P=y,g&&v)t:{for(x=g,p=v,d=0,m=x;m;m=Kt(m))d++;for(m=0,y=p;y;y=Kt(y))m++;for(;0<d-m;)x=Kt(x),d--;for(;0<m-d;)p=Kt(p),m--;for(;d--;){if(x===p||p!==null&&x===p.alternate)break t;x=Kt(x),p=Kt(p)}x=null}else x=null;g!==null&&Hs(f,h,g,x,!1),v!==null&&P!==null&&Hs(f,P,v,x,!0)}}e:{if(h=a?rn(a):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var w=Xd;else if(Ds(h))if($a)w=Jd;else{w=Zd;var S=Kd}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=qd);if(w&&(w=w(e,a))){Ha(f,w,n,c);break e}S&&S(e,h,a),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&Ro(h,"number",h.value)}switch(S=a?rn(a):window,e){case"focusin":(Ds(S)||S.contentEditable==="true")&&(tn=S,$o=a,Yn=null);break;case"focusout":Yn=$o=tn=null;break;case"mousedown":Wo=!0;break;case"contextmenu":case"mouseup":case"dragend":Wo=!1,Vs(f,n,c);break;case"selectionchange":if(np)break;case"keydown":case"keyup":Vs(f,n,c)}var C;if(Al)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else en?Ga(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Va&&n.locale!=="ko"&&(en||E!=="onCompositionStart"?E==="onCompositionEnd"&&en&&(C=Ua()):(yt=c,Ll="value"in yt?yt.value:yt.textContent,en=!0)),S=fi(a,E),0<S.length&&(E=new zs(E,e,null,n,c),f.push({event:E,listeners:S}),C?E.data=C:(C=ba(n),C!==null&&(E.data=C)))),(C=Hd?$d(e,n):Wd(e,n))&&(a=fi(a,"onBeforeInput"),0<a.length&&(c=new zs("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:a}),c.data=C))}tc(f,t)})}function ur(e,t,n){return{instance:e,listener:t,currentTarget:n}}function fi(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=tr(e,n),o!=null&&r.unshift(ur(e,o,i)),o=tr(e,t),o!=null&&r.push(ur(e,o,i))),e=e.return}return r}function Kt(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Hs(e,t,n,r,i){for(var o=t._reactName,l=[];n!==null&&n!==r;){var s=n,u=s.alternate,a=s.stateNode;if(u!==null&&u===r)break;s.tag===5&&a!==null&&(s=a,i?(u=tr(n,o),u!=null&&l.unshift(ur(n,u,s))):i||(u=tr(n,o),u!=null&&l.push(ur(n,u,s)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var lp=/\r\n?/g,sp=/\u0000|\uFFFD/g;function $s(e){return(typeof e=="string"?e:""+e).replace(lp,`
`).replace(sp,"")}function Rr(e,t,n){if(t=$s(t),$s(e)!==t&&n)throw Error(M(425))}function di(){}var Yo=null,Qo=null;function Xo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ko=typeof setTimeout=="function"?setTimeout:void 0,up=typeof clearTimeout=="function"?clearTimeout:void 0,Ws=typeof Promise=="function"?Promise:void 0,ap=typeof queueMicrotask=="function"?queueMicrotask:typeof Ws<"u"?function(e){return Ws.resolve(null).then(e).catch(cp)}:Ko;function cp(e){setTimeout(function(){throw e})}function uo(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),ir(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ir(t)}function kt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ys(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Tn=Math.random().toString(36).slice(2),Ze="__reactFiber$"+Tn,ar="__reactProps$"+Tn,st="__reactContainer$"+Tn,Zo="__reactEvents$"+Tn,fp="__reactListeners$"+Tn,dp="__reactHandles$"+Tn;function Dt(e){var t=e[Ze];if(t)return t;for(var n=e.parentNode;n;){if(t=n[st]||n[Ze]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ys(e);e!==null;){if(n=e[Ze])return n;e=Ys(e)}return t}e=n,n=e.parentNode}return null}function xr(e){return e=e[Ze]||e[st],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function rn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(M(33))}function Ri(e){return e[ar]||null}var qo=[],on=-1;function Nt(e){return{current:e}}function Y(e){0>on||(e.current=qo[on],qo[on]=null,on--)}function H(e,t){on++,qo[on]=e.current,e.current=t}var jt={},pe=Nt(jt),ke=Nt(!1),Gt=jt;function xn(e,t){var n=e.type.contextTypes;if(!n)return jt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ce(e){return e=e.childContextTypes,e!=null}function pi(){Y(ke),Y(pe)}function Qs(e,t,n){if(pe.current!==jt)throw Error(M(168));H(pe,t),H(ke,n)}function rc(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(M(108,Kf(e)||"Unknown",i));return Z({},n,r)}function hi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jt,Gt=pe.current,H(pe,e),H(ke,ke.current),!0}function Xs(e,t,n){var r=e.stateNode;if(!r)throw Error(M(169));n?(e=rc(e,t,Gt),r.__reactInternalMemoizedMergedChildContext=e,Y(ke),Y(pe),H(pe,e)):Y(ke),H(ke,n)}var tt=null,Li=!1,ao=!1;function ic(e){tt===null?tt=[e]:tt.push(e)}function pp(e){Li=!0,ic(e)}function It(){if(!ao&&tt!==null){ao=!0;var e=0,t=G;try{var n=tt;for(G=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}tt=null,Li=!1}catch(i){throw tt!==null&&(tt=tt.slice(e+1)),Ta(Nl,It),i}finally{G=t,ao=!1}}return null}var ln=[],sn=0,mi=null,yi=0,ze=[],Re=0,bt=null,nt=1,rt="";function Lt(e,t){ln[sn++]=yi,ln[sn++]=mi,mi=e,yi=t}function oc(e,t,n){ze[Re++]=nt,ze[Re++]=rt,ze[Re++]=bt,bt=e;var r=nt;e=rt;var i=32-He(r)-1;r&=~(1<<i),n+=1;var o=32-He(t)+i;if(30<o){var l=i-i%5;o=(r&(1<<l)-1).toString(32),r>>=l,i-=l,nt=1<<32-He(t)+i|n<<i|r,rt=o+e}else nt=1<<o|n<<i|r,rt=e}function Bl(e){e.return!==null&&(Lt(e,1),oc(e,1,0))}function Ul(e){for(;e===mi;)mi=ln[--sn],ln[sn]=null,yi=ln[--sn],ln[sn]=null;for(;e===bt;)bt=ze[--Re],ze[Re]=null,rt=ze[--Re],ze[Re]=null,nt=ze[--Re],ze[Re]=null}var je=null,_e=null,Q=!1,be=null;function lc(e,t){var n=Le(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ks(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,je=e,_e=kt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,je=e,_e=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=bt!==null?{id:nt,overflow:rt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Le(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,je=e,_e=null,!0):!1;default:return!1}}function Jo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function el(e){if(Q){var t=_e;if(t){var n=t;if(!Ks(e,t)){if(Jo(e))throw Error(M(418));t=kt(n.nextSibling);var r=je;t&&Ks(e,t)?lc(r,n):(e.flags=e.flags&-4097|2,Q=!1,je=e)}}else{if(Jo(e))throw Error(M(418));e.flags=e.flags&-4097|2,Q=!1,je=e}}}function Zs(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;je=e}function Lr(e){if(e!==je)return!1;if(!Q)return Zs(e),Q=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Xo(e.type,e.memoizedProps)),t&&(t=_e)){if(Jo(e))throw sc(),Error(M(418));for(;t;)lc(e,t),t=kt(t.nextSibling)}if(Zs(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){_e=kt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}_e=null}}else _e=je?kt(e.stateNode.nextSibling):null;return!0}function sc(){for(var e=_e;e;)e=kt(e.nextSibling)}function wn(){_e=je=null,Q=!1}function Vl(e){be===null?be=[e]:be.push(e)}var hp=ct.ReactCurrentBatchConfig;function On(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var r=n.stateNode}if(!r)throw Error(M(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(l){var s=i.refs;l===null?delete s[o]:s[o]=l},t._stringRef=o,t)}if(typeof e!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,e))}return e}function Or(e,t){throw e=Object.prototype.toString.call(t),Error(M(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qs(e){var t=e._init;return t(e._payload)}function uc(e){function t(p,d){if(e){var m=p.deletions;m===null?(p.deletions=[d],p.flags|=16):m.push(d)}}function n(p,d){if(!e)return null;for(;d!==null;)t(p,d),d=d.sibling;return null}function r(p,d){for(p=new Map;d!==null;)d.key!==null?p.set(d.key,d):p.set(d.index,d),d=d.sibling;return p}function i(p,d){return p=Mt(p,d),p.index=0,p.sibling=null,p}function o(p,d,m){return p.index=m,e?(m=p.alternate,m!==null?(m=m.index,m<d?(p.flags|=2,d):m):(p.flags|=2,d)):(p.flags|=1048576,d)}function l(p){return e&&p.alternate===null&&(p.flags|=2),p}function s(p,d,m,y){return d===null||d.tag!==6?(d=vo(m,p.mode,y),d.return=p,d):(d=i(d,m),d.return=p,d)}function u(p,d,m,y){var w=m.type;return w===Jt?c(p,d,m.props.children,y,m.key):d!==null&&(d.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===dt&&qs(w)===d.type)?(y=i(d,m.props),y.ref=On(p,d,m),y.return=p,y):(y=ti(m.type,m.key,m.props,null,p.mode,y),y.ref=On(p,d,m),y.return=p,y)}function a(p,d,m,y){return d===null||d.tag!==4||d.stateNode.containerInfo!==m.containerInfo||d.stateNode.implementation!==m.implementation?(d=go(m,p.mode,y),d.return=p,d):(d=i(d,m.children||[]),d.return=p,d)}function c(p,d,m,y,w){return d===null||d.tag!==7?(d=Ut(m,p.mode,y,w),d.return=p,d):(d=i(d,m),d.return=p,d)}function f(p,d,m){if(typeof d=="string"&&d!==""||typeof d=="number")return d=vo(""+d,p.mode,m),d.return=p,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Er:return m=ti(d.type,d.key,d.props,null,p.mode,m),m.ref=On(p,null,d),m.return=p,m;case qt:return d=go(d,p.mode,m),d.return=p,d;case dt:var y=d._init;return f(p,y(d._payload),m)}if(Un(d)||Nn(d))return d=Ut(d,p.mode,m,null),d.return=p,d;Or(p,d)}return null}function h(p,d,m,y){var w=d!==null?d.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return w!==null?null:s(p,d,""+m,y);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Er:return m.key===w?u(p,d,m,y):null;case qt:return m.key===w?a(p,d,m,y):null;case dt:return w=m._init,h(p,d,w(m._payload),y)}if(Un(m)||Nn(m))return w!==null?null:c(p,d,m,y,null);Or(p,m)}return null}function g(p,d,m,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return p=p.get(m)||null,s(d,p,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Er:return p=p.get(y.key===null?m:y.key)||null,u(d,p,y,w);case qt:return p=p.get(y.key===null?m:y.key)||null,a(d,p,y,w);case dt:var S=y._init;return g(p,d,m,S(y._payload),w)}if(Un(y)||Nn(y))return p=p.get(m)||null,c(d,p,y,w,null);Or(d,y)}return null}function v(p,d,m,y){for(var w=null,S=null,C=d,E=d=0,_=null;C!==null&&E<m.length;E++){C.index>E?(_=C,C=null):_=C.sibling;var j=h(p,C,m[E],y);if(j===null){C===null&&(C=_);break}e&&C&&j.alternate===null&&t(p,C),d=o(j,d,E),S===null?w=j:S.sibling=j,S=j,C=_}if(E===m.length)return n(p,C),Q&&Lt(p,E),w;if(C===null){for(;E<m.length;E++)C=f(p,m[E],y),C!==null&&(d=o(C,d,E),S===null?w=C:S.sibling=C,S=C);return Q&&Lt(p,E),w}for(C=r(p,C);E<m.length;E++)_=g(C,p,E,m[E],y),_!==null&&(e&&_.alternate!==null&&C.delete(_.key===null?E:_.key),d=o(_,d,E),S===null?w=_:S.sibling=_,S=_);return e&&C.forEach(function(O){return t(p,O)}),Q&&Lt(p,E),w}function x(p,d,m,y){var w=Nn(m);if(typeof w!="function")throw Error(M(150));if(m=w.call(m),m==null)throw Error(M(151));for(var S=w=null,C=d,E=d=0,_=null,j=m.next();C!==null&&!j.done;E++,j=m.next()){C.index>E?(_=C,C=null):_=C.sibling;var O=h(p,C,j.value,y);if(O===null){C===null&&(C=_);break}e&&C&&O.alternate===null&&t(p,C),d=o(O,d,E),S===null?w=O:S.sibling=O,S=O,C=_}if(j.done)return n(p,C),Q&&Lt(p,E),w;if(C===null){for(;!j.done;E++,j=m.next())j=f(p,j.value,y),j!==null&&(d=o(j,d,E),S===null?w=j:S.sibling=j,S=j);return Q&&Lt(p,E),w}for(C=r(p,C);!j.done;E++,j=m.next())j=g(C,p,E,j.value,y),j!==null&&(e&&j.alternate!==null&&C.delete(j.key===null?E:j.key),d=o(j,d,E),S===null?w=j:S.sibling=j,S=j);return e&&C.forEach(function(D){return t(p,D)}),Q&&Lt(p,E),w}function P(p,d,m,y){if(typeof m=="object"&&m!==null&&m.type===Jt&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Er:e:{for(var w=m.key,S=d;S!==null;){if(S.key===w){if(w=m.type,w===Jt){if(S.tag===7){n(p,S.sibling),d=i(S,m.props.children),d.return=p,p=d;break e}}else if(S.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===dt&&qs(w)===S.type){n(p,S.sibling),d=i(S,m.props),d.ref=On(p,S,m),d.return=p,p=d;break e}n(p,S);break}else t(p,S);S=S.sibling}m.type===Jt?(d=Ut(m.props.children,p.mode,y,m.key),d.return=p,p=d):(y=ti(m.type,m.key,m.props,null,p.mode,y),y.ref=On(p,d,m),y.return=p,p=y)}return l(p);case qt:e:{for(S=m.key;d!==null;){if(d.key===S)if(d.tag===4&&d.stateNode.containerInfo===m.containerInfo&&d.stateNode.implementation===m.implementation){n(p,d.sibling),d=i(d,m.children||[]),d.return=p,p=d;break e}else{n(p,d);break}else t(p,d);d=d.sibling}d=go(m,p.mode,y),d.return=p,p=d}return l(p);case dt:return S=m._init,P(p,d,S(m._payload),y)}if(Un(m))return v(p,d,m,y);if(Nn(m))return x(p,d,m,y);Or(p,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,d!==null&&d.tag===6?(n(p,d.sibling),d=i(d,m),d.return=p,p=d):(n(p,d),d=vo(m,p.mode,y),d.return=p,p=d),l(p)):n(p,d)}return P}var Sn=uc(!0),ac=uc(!1),vi=Nt(null),gi=null,un=null,Gl=null;function bl(){Gl=un=gi=null}function Hl(e){var t=vi.current;Y(vi),e._currentValue=t}function tl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function mn(e,t){gi=e,Gl=un=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Se=!0),e.firstContext=null)}function De(e){var t=e._currentValue;if(Gl!==e)if(e={context:e,memoizedValue:t,next:null},un===null){if(gi===null)throw Error(M(308));un=e,gi.dependencies={lanes:0,firstContext:e}}else un=un.next=e;return t}var At=null;function $l(e){At===null?At=[e]:At.push(e)}function cc(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,$l(t)):(n.next=i.next,i.next=n),t.interleaved=n,ut(e,r)}function ut(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var pt=!1;function Wl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ot(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ct(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,U&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,ut(e,n)}return i=r.interleaved,i===null?(t.next=t,$l(r)):(t.next=i.next,i.next=t),r.interleaved=t,ut(e,n)}function Xr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Il(e,n)}}function Js(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function xi(e,t,n,r){var i=e.updateQueue;pt=!1;var o=i.firstBaseUpdate,l=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var u=s,a=u.next;u.next=null,l===null?o=a:l.next=a,l=u;var c=e.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==l&&(s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=u))}if(o!==null){var f=i.baseState;l=0,c=a=u=null,s=o;do{var h=s.lane,g=s.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:g,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=e,x=s;switch(h=t,g=n,x.tag){case 1:if(v=x.payload,typeof v=="function"){f=v.call(g,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,h=typeof v=="function"?v.call(g,f,h):v,h==null)break e;f=Z({},f,h);break e;case 2:pt=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else g={eventTime:g,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(a=c=g,u=f):c=c.next=g,l|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(u=f),i.baseState=u,i.firstBaseUpdate=a,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do l|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);$t|=l,e.lanes=l,e.memoizedState=f}}function eu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(M(191,i));i.call(r)}}}var wr={},Je=Nt(wr),cr=Nt(wr),fr=Nt(wr);function Ft(e){if(e===wr)throw Error(M(174));return e}function Yl(e,t){switch(H(fr,t),H(cr,e),H(Je,wr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Oo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Oo(t,e)}Y(Je),H(Je,t)}function kn(){Y(Je),Y(cr),Y(fr)}function dc(e){Ft(fr.current);var t=Ft(Je.current),n=Oo(t,e.type);t!==n&&(H(cr,e),H(Je,n))}function Ql(e){cr.current===e&&(Y(Je),Y(cr))}var X=Nt(0);function wi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function Xl(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var Kr=ct.ReactCurrentDispatcher,fo=ct.ReactCurrentBatchConfig,Ht=0,K=null,ne=null,oe=null,Si=!1,Qn=!1,dr=0,mp=0;function ce(){throw Error(M(321))}function Kl(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ye(e[n],t[n]))return!1;return!0}function Zl(e,t,n,r,i,o){if(Ht=o,K=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Kr.current=e===null||e.memoizedState===null?xp:wp,e=n(r,i),Qn){o=0;do{if(Qn=!1,dr=0,25<=o)throw Error(M(301));o+=1,oe=ne=null,t.updateQueue=null,Kr.current=Sp,e=n(r,i)}while(Qn)}if(Kr.current=ki,t=ne!==null&&ne.next!==null,Ht=0,oe=ne=K=null,Si=!1,t)throw Error(M(300));return e}function ql(){var e=dr!==0;return dr=0,e}function Xe(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return oe===null?K.memoizedState=oe=e:oe=oe.next=e,oe}function Ae(){if(ne===null){var e=K.alternate;e=e!==null?e.memoizedState:null}else e=ne.next;var t=oe===null?K.memoizedState:oe.next;if(t!==null)oe=t,ne=e;else{if(e===null)throw Error(M(310));ne=e,e={memoizedState:ne.memoizedState,baseState:ne.baseState,baseQueue:ne.baseQueue,queue:ne.queue,next:null},oe===null?K.memoizedState=oe=e:oe=oe.next=e}return oe}function pr(e,t){return typeof t=="function"?t(e):t}function po(e){var t=Ae(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=ne,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var l=i.next;i.next=o.next,o.next=l}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=l=null,u=null,a=o;do{var c=a.lane;if((Ht&c)===c)u!==null&&(u=u.next={lane:0,action:a.action,hasEagerState:a.hasEagerState,eagerState:a.eagerState,next:null}),r=a.hasEagerState?a.eagerState:e(r,a.action);else{var f={lane:c,action:a.action,hasEagerState:a.hasEagerState,eagerState:a.eagerState,next:null};u===null?(s=u=f,l=r):u=u.next=f,K.lanes|=c,$t|=c}a=a.next}while(a!==null&&a!==o);u===null?l=r:u.next=s,Ye(r,t.memoizedState)||(Se=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,K.lanes|=o,$t|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ho(e){var t=Ae(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do o=e(o,l.action),l=l.next;while(l!==i);Ye(o,t.memoizedState)||(Se=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function pc(){}function hc(e,t){var n=K,r=Ae(),i=t(),o=!Ye(r.memoizedState,i);if(o&&(r.memoizedState=i,Se=!0),r=r.queue,Jl(vc.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||oe!==null&&oe.memoizedState.tag&1){if(n.flags|=2048,hr(9,yc.bind(null,n,r,i,t),void 0,null),le===null)throw Error(M(349));Ht&30||mc(n,t,i)}return i}function mc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=K.updateQueue,t===null?(t={lastEffect:null,stores:null},K.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function yc(e,t,n,r){t.value=n,t.getSnapshot=r,gc(t)&&xc(e)}function vc(e,t,n){return n(function(){gc(t)&&xc(e)})}function gc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ye(e,n)}catch{return!0}}function xc(e){var t=ut(e,1);t!==null&&$e(t,e,1,-1)}function tu(e){var t=Xe();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:e},t.queue=e,e=e.dispatch=gp.bind(null,K,e),[t.memoizedState,e]}function hr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=K.updateQueue,t===null?(t={lastEffect:null,stores:null},K.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function wc(){return Ae().memoizedState}function Zr(e,t,n,r){var i=Xe();K.flags|=e,i.memoizedState=hr(1|t,n,void 0,r===void 0?null:r)}function Oi(e,t,n,r){var i=Ae();r=r===void 0?null:r;var o=void 0;if(ne!==null){var l=ne.memoizedState;if(o=l.destroy,r!==null&&Kl(r,l.deps)){i.memoizedState=hr(t,n,o,r);return}}K.flags|=e,i.memoizedState=hr(1|t,n,o,r)}function nu(e,t){return Zr(8390656,8,e,t)}function Jl(e,t){return Oi(2048,8,e,t)}function Sc(e,t){return Oi(4,2,e,t)}function kc(e,t){return Oi(4,4,e,t)}function Cc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ec(e,t,n){return n=n!=null?n.concat([e]):null,Oi(4,4,Cc.bind(null,t,e),n)}function es(){}function Pc(e,t){var n=Ae();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Kl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Mc(e,t){var n=Ae();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Kl(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function _c(e,t,n){return Ht&21?(Ye(n,t)||(n=za(),K.lanes|=n,$t|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Se=!0),e.memoizedState=n)}function yp(e,t){var n=G;G=n!==0&&4>n?n:4,e(!0);var r=fo.transition;fo.transition={};try{e(!1),t()}finally{G=n,fo.transition=r}}function jc(){return Ae().memoizedState}function vp(e,t,n){var r=Pt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Tc(e))Nc(t,n);else if(n=cc(e,t,n,r),n!==null){var i=ye();$e(n,e,r,i),Ic(n,t,r)}}function gp(e,t,n){var r=Pt(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Tc(e))Nc(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var l=t.lastRenderedState,s=o(l,n);if(i.hasEagerState=!0,i.eagerState=s,Ye(s,l)){var u=t.interleaved;u===null?(i.next=i,$l(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=cc(e,t,i,r),n!==null&&(i=ye(),$e(n,e,r,i),Ic(n,t,r))}}function Tc(e){var t=e.alternate;return e===K||t!==null&&t===K}function Nc(e,t){Qn=Si=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ic(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Il(e,n)}}var ki={readContext:De,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useInsertionEffect:ce,useLayoutEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useMutableSource:ce,useSyncExternalStore:ce,useId:ce,unstable_isNewReconciler:!1},xp={readContext:De,useCallback:function(e,t){return Xe().memoizedState=[e,t===void 0?null:t],e},useContext:De,useEffect:nu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Zr(4194308,4,Cc.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Zr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Zr(4,2,e,t)},useMemo:function(e,t){var n=Xe();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Xe();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=vp.bind(null,K,e),[r.memoizedState,e]},useRef:function(e){var t=Xe();return e={current:e},t.memoizedState=e},useState:tu,useDebugValue:es,useDeferredValue:function(e){return Xe().memoizedState=e},useTransition:function(){var e=tu(!1),t=e[0];return e=yp.bind(null,e[1]),Xe().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=K,i=Xe();if(Q){if(n===void 0)throw Error(M(407));n=n()}else{if(n=t(),le===null)throw Error(M(349));Ht&30||mc(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,nu(vc.bind(null,r,o,e),[e]),r.flags|=2048,hr(9,yc.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Xe(),t=le.identifierPrefix;if(Q){var n=rt,r=nt;n=(r&~(1<<32-He(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=dr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=mp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},wp={readContext:De,useCallback:Pc,useContext:De,useEffect:Jl,useImperativeHandle:Ec,useInsertionEffect:Sc,useLayoutEffect:kc,useMemo:Mc,useReducer:po,useRef:wc,useState:function(){return po(pr)},useDebugValue:es,useDeferredValue:function(e){var t=Ae();return _c(t,ne.memoizedState,e)},useTransition:function(){var e=po(pr)[0],t=Ae().memoizedState;return[e,t]},useMutableSource:pc,useSyncExternalStore:hc,useId:jc,unstable_isNewReconciler:!1},Sp={readContext:De,useCallback:Pc,useContext:De,useEffect:Jl,useImperativeHandle:Ec,useInsertionEffect:Sc,useLayoutEffect:kc,useMemo:Mc,useReducer:ho,useRef:wc,useState:function(){return ho(pr)},useDebugValue:es,useDeferredValue:function(e){var t=Ae();return ne===null?t.memoizedState=e:_c(t,ne.memoizedState,e)},useTransition:function(){var e=ho(pr)[0],t=Ae().memoizedState;return[e,t]},useMutableSource:pc,useSyncExternalStore:hc,useId:jc,unstable_isNewReconciler:!1};function Ve(e,t){if(e&&e.defaultProps){t=Z({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function nl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Z({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Di={isMounted:function(e){return(e=e._reactInternals)?Qt(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ye(),i=Pt(e),o=ot(r,i);o.payload=t,n!=null&&(o.callback=n),t=Ct(e,o,i),t!==null&&($e(t,e,i,r),Xr(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ye(),i=Pt(e),o=ot(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Ct(e,o,i),t!==null&&($e(t,e,i,r),Xr(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ye(),r=Pt(e),i=ot(n,r);i.tag=2,t!=null&&(i.callback=t),t=Ct(e,i,r),t!==null&&($e(t,e,r,n),Xr(t,e,r))}};function ru(e,t,n,r,i,o,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,l):t.prototype&&t.prototype.isPureReactComponent?!lr(n,r)||!lr(i,o):!0}function zc(e,t,n){var r=!1,i=jt,o=t.contextType;return typeof o=="object"&&o!==null?o=De(o):(i=Ce(t)?Gt:pe.current,r=t.contextTypes,o=(r=r!=null)?xn(e,i):jt),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Di,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function iu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Di.enqueueReplaceState(t,t.state,null)}function rl(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Wl(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=De(o):(o=Ce(t)?Gt:pe.current,i.context=xn(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(nl(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Di.enqueueReplaceState(i,i.state,null),xi(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Cn(e,t){try{var n="",r=t;do n+=Xf(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function mo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function il(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var kp=typeof WeakMap=="function"?WeakMap:Map;function Rc(e,t,n){n=ot(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ei||(Ei=!0,hl=r),il(e,t)},n}function Lc(e,t,n){n=ot(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){il(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){il(e,t),typeof r!="function"&&(Et===null?Et=new Set([this]):Et.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function ou(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new kp;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Dp.bind(null,e,t,n),t.then(e,e))}function lu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function su(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ot(-1,1),t.tag=2,Ct(n,t,1))),n.lanes|=1),e)}var Cp=ct.ReactCurrentOwner,Se=!1;function me(e,t,n,r){t.child=e===null?ac(t,null,n,r):Sn(t,e.child,n,r)}function uu(e,t,n,r,i){n=n.render;var o=t.ref;return mn(t,i),r=Zl(e,t,n,r,o,i),n=ql(),e!==null&&!Se?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,at(e,t,i)):(Q&&n&&Bl(t),t.flags|=1,me(e,t,r,i),t.child)}function au(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!us(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Oc(e,t,o,r,i)):(e=ti(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:lr,n(l,r)&&e.ref===t.ref)return at(e,t,i)}return t.flags|=1,e=Mt(o,r),e.ref=t.ref,e.return=t,t.child=e}function Oc(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref)if(Se=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Se=!0);else return t.lanes=e.lanes,at(e,t,i)}return ol(e,t,n,r,i)}function Dc(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},H(cn,Pe),Pe|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,H(cn,Pe),Pe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,H(cn,Pe),Pe|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,H(cn,Pe),Pe|=r;return me(e,t,i,n),t.child}function Ac(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ol(e,t,n,r,i){var o=Ce(n)?Gt:pe.current;return o=xn(t,o),mn(t,i),n=Zl(e,t,n,r,o,i),r=ql(),e!==null&&!Se?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,at(e,t,i)):(Q&&r&&Bl(t),t.flags|=1,me(e,t,n,i),t.child)}function cu(e,t,n,r,i){if(Ce(n)){var o=!0;hi(t)}else o=!1;if(mn(t,i),t.stateNode===null)qr(e,t),zc(t,n,r),rl(t,n,r,i),r=!0;else if(e===null){var l=t.stateNode,s=t.memoizedProps;l.props=s;var u=l.context,a=n.contextType;typeof a=="object"&&a!==null?a=De(a):(a=Ce(n)?Gt:pe.current,a=xn(t,a));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof l.getSnapshotBeforeUpdate=="function";f||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==r||u!==a)&&iu(t,l,r,a),pt=!1;var h=t.memoizedState;l.state=h,xi(t,r,l,i),u=t.memoizedState,s!==r||h!==u||ke.current||pt?(typeof c=="function"&&(nl(t,n,c,r),u=t.memoizedState),(s=pt||ru(t,n,s,r,h,u,a))?(f||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),l.props=r,l.state=u,l.context=a,r=s):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,fc(e,t),s=t.memoizedProps,a=t.type===t.elementType?s:Ve(t.type,s),l.props=a,f=t.pendingProps,h=l.context,u=n.contextType,typeof u=="object"&&u!==null?u=De(u):(u=Ce(n)?Gt:pe.current,u=xn(t,u));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==f||h!==u)&&iu(t,l,r,u),pt=!1,h=t.memoizedState,l.state=h,xi(t,r,l,i);var v=t.memoizedState;s!==f||h!==v||ke.current||pt?(typeof g=="function"&&(nl(t,n,g,r),v=t.memoizedState),(a=pt||ru(t,n,a,r,h,v,u)||!1)?(c||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,v,u),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,v,u)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),l.props=r,l.state=v,l.context=u,r=a):(typeof l.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return ll(e,t,n,r,o,i)}function ll(e,t,n,r,i,o){Ac(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return i&&Xs(t,n,!1),at(e,t,o);r=t.stateNode,Cp.current=t;var s=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=Sn(t,e.child,null,o),t.child=Sn(t,null,s,o)):me(e,t,s,o),t.memoizedState=r.state,i&&Xs(t,n,!0),t.child}function Fc(e){var t=e.stateNode;t.pendingContext?Qs(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Qs(e,t.context,!1),Yl(e,t.containerInfo)}function fu(e,t,n,r,i){return wn(),Vl(i),t.flags|=256,me(e,t,n,r),t.child}var sl={dehydrated:null,treeContext:null,retryLane:0};function ul(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bc(e,t,n){var r=t.pendingProps,i=X.current,o=!1,l=(t.flags&128)!==0,s;if((s=l)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),H(X,i&1),e===null)return el(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,o?(r=t.mode,o=t.child,l={mode:"hidden",children:l},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=Bi(l,r,0,null),e=Ut(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=ul(n),t.memoizedState=sl,e):ts(t,l));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return Ep(e,t,l,r,s,i,n);if(o){o=r.fallback,l=t.mode,i=e.child,s=i.sibling;var u={mode:"hidden",children:r.children};return!(l&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Mt(i,u),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Mt(s,o):(o=Ut(o,l,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,l=e.child.memoizedState,l=l===null?ul(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=sl,r}return o=e.child,e=o.sibling,r=Mt(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ts(e,t){return t=Bi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Dr(e,t,n,r){return r!==null&&Vl(r),Sn(t,e.child,null,n),e=ts(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ep(e,t,n,r,i,o,l){if(n)return t.flags&256?(t.flags&=-257,r=mo(Error(M(422))),Dr(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Bi({mode:"visible",children:r.children},i,0,null),o=Ut(o,i,l,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Sn(t,e.child,null,l),t.child.memoizedState=ul(l),t.memoizedState=sl,o);if(!(t.mode&1))return Dr(e,t,l,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(M(419)),r=mo(o,r,void 0),Dr(e,t,l,r)}if(s=(l&e.childLanes)!==0,Se||s){if(r=le,r!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|l)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ut(e,i),$e(r,e,i,-1))}return ss(),r=mo(Error(M(421))),Dr(e,t,l,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Ap.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,_e=kt(i.nextSibling),je=t,Q=!0,be=null,e!==null&&(ze[Re++]=nt,ze[Re++]=rt,ze[Re++]=bt,nt=e.id,rt=e.overflow,bt=t),t=ts(t,r.children),t.flags|=4096,t)}function du(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),tl(e.return,t,n)}function yo(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Uc(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(me(e,t,r.children,n),r=X.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&du(e,n,t);else if(e.tag===19)du(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(H(X,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&wi(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),yo(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&wi(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}yo(t,!0,n,null,o);break;case"together":yo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qr(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function at(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),$t|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(M(153));if(t.child!==null){for(e=t.child,n=Mt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Mt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Pp(e,t,n){switch(t.tag){case 3:Fc(t),wn();break;case 5:dc(t);break;case 1:Ce(t.type)&&hi(t);break;case 4:Yl(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;H(vi,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(H(X,X.current&1),t.flags|=128,null):n&t.child.childLanes?Bc(e,t,n):(H(X,X.current&1),e=at(e,t,n),e!==null?e.sibling:null);H(X,X.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Uc(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),H(X,X.current),r)break;return null;case 22:case 23:return t.lanes=0,Dc(e,t,n)}return at(e,t,n)}var Vc,al,Gc,bc;Vc=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};al=function(){};Gc=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ft(Je.current);var o=null;switch(n){case"input":i=Io(e,i),r=Io(e,r),o=[];break;case"select":i=Z({},i,{value:void 0}),r=Z({},r,{value:void 0}),o=[];break;case"textarea":i=Lo(e,i),r=Lo(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=di)}Do(n,r);var l;n=null;for(a in i)if(!r.hasOwnProperty(a)&&i.hasOwnProperty(a)&&i[a]!=null)if(a==="style"){var s=i[a];for(l in s)s.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else a!=="dangerouslySetInnerHTML"&&a!=="children"&&a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Jn.hasOwnProperty(a)?o||(o=[]):(o=o||[]).push(a,null));for(a in r){var u=r[a];if(s=i!=null?i[a]:void 0,r.hasOwnProperty(a)&&u!==s&&(u!=null||s!=null))if(a==="style")if(s){for(l in s)!s.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in u)u.hasOwnProperty(l)&&s[l]!==u[l]&&(n||(n={}),n[l]=u[l])}else n||(o||(o=[]),o.push(a,n)),n=u;else a==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,s=s?s.__html:void 0,u!=null&&s!==u&&(o=o||[]).push(a,u)):a==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(a,""+u):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&(Jn.hasOwnProperty(a)?(u!=null&&a==="onScroll"&&W("scroll",e),o||s===u||(o=[])):(o=o||[]).push(a,u))}n&&(o=o||[]).push("style",n);var a=o;(t.updateQueue=a)&&(t.flags|=4)}};bc=function(e,t,n,r){n!==r&&(t.flags|=4)};function Dn(e,t){if(!Q)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function fe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Mp(e,t,n){var r=t.pendingProps;switch(Ul(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(t),null;case 1:return Ce(t.type)&&pi(),fe(t),null;case 3:return r=t.stateNode,kn(),Y(ke),Y(pe),Xl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Lr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,be!==null&&(vl(be),be=null))),al(e,t),fe(t),null;case 5:Ql(t);var i=Ft(fr.current);if(n=t.type,e!==null&&t.stateNode!=null)Gc(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(M(166));return fe(t),null}if(e=Ft(Je.current),Lr(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Ze]=t,r[ar]=o,e=(t.mode&1)!==0,n){case"dialog":W("cancel",r),W("close",r);break;case"iframe":case"object":case"embed":W("load",r);break;case"video":case"audio":for(i=0;i<Gn.length;i++)W(Gn[i],r);break;case"source":W("error",r);break;case"img":case"image":case"link":W("error",r),W("load",r);break;case"details":W("toggle",r);break;case"input":Ss(r,o),W("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},W("invalid",r);break;case"textarea":Cs(r,o),W("invalid",r)}Do(n,o),i=null;for(var l in o)if(o.hasOwnProperty(l)){var s=o[l];l==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Rr(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Rr(r.textContent,s,e),i=["children",""+s]):Jn.hasOwnProperty(l)&&s!=null&&l==="onScroll"&&W("scroll",r)}switch(n){case"input":Pr(r),ks(r,o,!0);break;case"textarea":Pr(r),Es(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=di)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=va(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Ze]=t,e[ar]=r,Vc(e,t,!1,!1),t.stateNode=e;e:{switch(l=Ao(n,r),n){case"dialog":W("cancel",e),W("close",e),i=r;break;case"iframe":case"object":case"embed":W("load",e),i=r;break;case"video":case"audio":for(i=0;i<Gn.length;i++)W(Gn[i],e);i=r;break;case"source":W("error",e),i=r;break;case"img":case"image":case"link":W("error",e),W("load",e),i=r;break;case"details":W("toggle",e),i=r;break;case"input":Ss(e,r),i=Io(e,r),W("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Z({},r,{value:void 0}),W("invalid",e);break;case"textarea":Cs(e,r),i=Lo(e,r),W("invalid",e);break;default:i=r}Do(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var u=s[o];o==="style"?wa(e,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&ga(e,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&er(e,u):typeof u=="number"&&er(e,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Jn.hasOwnProperty(o)?u!=null&&o==="onScroll"&&W("scroll",e):u!=null&&Pl(e,o,u,l))}switch(n){case"input":Pr(e),ks(e,r,!1);break;case"textarea":Pr(e),Es(e);break;case"option":r.value!=null&&e.setAttribute("value",""+_t(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?fn(e,!!r.multiple,o,!1):r.defaultValue!=null&&fn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=di)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return fe(t),null;case 6:if(e&&t.stateNode!=null)bc(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(M(166));if(n=Ft(fr.current),Ft(Je.current),Lr(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ze]=t,(o=r.nodeValue!==n)&&(e=je,e!==null))switch(e.tag){case 3:Rr(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Rr(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ze]=t,t.stateNode=r}return fe(t),null;case 13:if(Y(X),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Q&&_e!==null&&t.mode&1&&!(t.flags&128))sc(),wn(),t.flags|=98560,o=!1;else if(o=Lr(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(M(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(M(317));o[Ze]=t}else wn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;fe(t),o=!1}else be!==null&&(vl(be),be=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||X.current&1?re===0&&(re=3):ss())),t.updateQueue!==null&&(t.flags|=4),fe(t),null);case 4:return kn(),al(e,t),e===null&&sr(t.stateNode.containerInfo),fe(t),null;case 10:return Hl(t.type._context),fe(t),null;case 17:return Ce(t.type)&&pi(),fe(t),null;case 19:if(Y(X),o=t.memoizedState,o===null)return fe(t),null;if(r=(t.flags&128)!==0,l=o.rendering,l===null)if(r)Dn(o,!1);else{if(re!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=wi(e),l!==null){for(t.flags|=128,Dn(o,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return H(X,X.current&1|2),t.child}e=e.sibling}o.tail!==null&&ee()>En&&(t.flags|=128,r=!0,Dn(o,!1),t.lanes=4194304)}else{if(!r)if(e=wi(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Dn(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!Q)return fe(t),null}else 2*ee()-o.renderingStartTime>En&&n!==1073741824&&(t.flags|=128,r=!0,Dn(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(n=o.last,n!==null?n.sibling=l:t.child=l,o.last=l)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ee(),t.sibling=null,n=X.current,H(X,r?n&1|2:n&1),t):(fe(t),null);case 22:case 23:return ls(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Pe&1073741824&&(fe(t),t.subtreeFlags&6&&(t.flags|=8192)):fe(t),null;case 24:return null;case 25:return null}throw Error(M(156,t.tag))}function _p(e,t){switch(Ul(t),t.tag){case 1:return Ce(t.type)&&pi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return kn(),Y(ke),Y(pe),Xl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ql(t),null;case 13:if(Y(X),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(M(340));wn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Y(X),null;case 4:return kn(),null;case 10:return Hl(t.type._context),null;case 22:case 23:return ls(),null;case 24:return null;default:return null}}var Ar=!1,de=!1,jp=typeof WeakSet=="function"?WeakSet:Set,I=null;function an(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){J(e,t,r)}else n.current=null}function cl(e,t,n){try{n()}catch(r){J(e,t,r)}}var pu=!1;function Tp(e,t){if(Yo=ai,e=Qa(),Fl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,s=-1,u=-1,a=0,c=0,f=e,h=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(s=l+i),f!==o||r!==0&&f.nodeType!==3||(u=l+r),f.nodeType===3&&(l+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===e)break t;if(h===n&&++a===i&&(s=l),h===o&&++c===r&&(u=l),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}n=s===-1||u===-1?null:{start:s,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qo={focusedElem:e,selectionRange:n},ai=!1,I=t;I!==null;)if(t=I,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,I=e;else for(;I!==null;){t=I;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,P=v.memoizedState,p=t.stateNode,d=p.getSnapshotBeforeUpdate(t.elementType===t.type?x:Ve(t.type,x),P);p.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(y){J(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,I=e;break}I=t.return}return v=pu,pu=!1,v}function Xn(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&cl(t,n,o)}i=i.next}while(i!==r)}}function Ai(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function fl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Hc(e){var t=e.alternate;t!==null&&(e.alternate=null,Hc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ze],delete t[ar],delete t[Zo],delete t[fp],delete t[dp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function $c(e){return e.tag===5||e.tag===3||e.tag===4}function hu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$c(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=di));else if(r!==4&&(e=e.child,e!==null))for(dl(e,t,n),e=e.sibling;e!==null;)dl(e,t,n),e=e.sibling}function pl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(pl(e,t,n),e=e.sibling;e!==null;)pl(e,t,n),e=e.sibling}var se=null,Ge=!1;function ft(e,t,n){for(n=n.child;n!==null;)Wc(e,t,n),n=n.sibling}function Wc(e,t,n){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Ti,n)}catch{}switch(n.tag){case 5:de||an(n,t);case 6:var r=se,i=Ge;se=null,ft(e,t,n),se=r,Ge=i,se!==null&&(Ge?(e=se,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):se.removeChild(n.stateNode));break;case 18:se!==null&&(Ge?(e=se,n=n.stateNode,e.nodeType===8?uo(e.parentNode,n):e.nodeType===1&&uo(e,n),ir(e)):uo(se,n.stateNode));break;case 4:r=se,i=Ge,se=n.stateNode.containerInfo,Ge=!0,ft(e,t,n),se=r,Ge=i;break;case 0:case 11:case 14:case 15:if(!de&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&cl(n,t,l),i=i.next}while(i!==r)}ft(e,t,n);break;case 1:if(!de&&(an(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){J(n,t,s)}ft(e,t,n);break;case 21:ft(e,t,n);break;case 22:n.mode&1?(de=(r=de)||n.memoizedState!==null,ft(e,t,n),de=r):ft(e,t,n);break;default:ft(e,t,n)}}function mu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new jp),t.forEach(function(r){var i=Fp.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ue(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,l=t,s=l;e:for(;s!==null;){switch(s.tag){case 5:se=s.stateNode,Ge=!1;break e;case 3:se=s.stateNode.containerInfo,Ge=!0;break e;case 4:se=s.stateNode.containerInfo,Ge=!0;break e}s=s.return}if(se===null)throw Error(M(160));Wc(o,l,i),se=null,Ge=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(a){J(i,t,a)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Yc(t,e),t=t.sibling}function Yc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ue(t,e),Qe(e),r&4){try{Xn(3,e,e.return),Ai(3,e)}catch(x){J(e,e.return,x)}try{Xn(5,e,e.return)}catch(x){J(e,e.return,x)}}break;case 1:Ue(t,e),Qe(e),r&512&&n!==null&&an(n,n.return);break;case 5:if(Ue(t,e),Qe(e),r&512&&n!==null&&an(n,n.return),e.flags&32){var i=e.stateNode;try{er(i,"")}catch(x){J(e,e.return,x)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,l=n!==null?n.memoizedProps:o,s=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&ma(i,o),Ao(s,l);var a=Ao(s,o);for(l=0;l<u.length;l+=2){var c=u[l],f=u[l+1];c==="style"?wa(i,f):c==="dangerouslySetInnerHTML"?ga(i,f):c==="children"?er(i,f):Pl(i,c,f,a)}switch(s){case"input":zo(i,o);break;case"textarea":ya(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?fn(i,!!o.multiple,g,!1):h!==!!o.multiple&&(o.defaultValue!=null?fn(i,!!o.multiple,o.defaultValue,!0):fn(i,!!o.multiple,o.multiple?[]:"",!1))}i[ar]=o}catch(x){J(e,e.return,x)}}break;case 6:if(Ue(t,e),Qe(e),r&4){if(e.stateNode===null)throw Error(M(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(x){J(e,e.return,x)}}break;case 3:if(Ue(t,e),Qe(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ir(t.containerInfo)}catch(x){J(e,e.return,x)}break;case 4:Ue(t,e),Qe(e);break;case 13:Ue(t,e),Qe(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(is=ee())),r&4&&mu(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(de=(a=de)||c,Ue(t,e),de=a):Ue(t,e),Qe(e),r&8192){if(a=e.memoizedState!==null,(e.stateNode.isHidden=a)&&!c&&e.mode&1)for(I=e,c=e.child;c!==null;){for(f=I=c;I!==null;){switch(h=I,g=h.child,h.tag){case 0:case 11:case 14:case 15:Xn(4,h,h.return);break;case 1:an(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(x){J(r,n,x)}}break;case 5:an(h,h.return);break;case 22:if(h.memoizedState!==null){vu(f);continue}}g!==null?(g.return=h,I=g):vu(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,a?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,u=f.memoizedProps.style,l=u!=null&&u.hasOwnProperty("display")?u.display:null,s.style.display=xa("display",l))}catch(x){J(e,e.return,x)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=a?"":f.memoizedProps}catch(x){J(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ue(t,e),Qe(e),r&4&&mu(e);break;case 21:break;default:Ue(t,e),Qe(e)}}function Qe(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if($c(n)){var r=n;break e}n=n.return}throw Error(M(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(er(i,""),r.flags&=-33);var o=hu(e);pl(e,o,i);break;case 3:case 4:var l=r.stateNode.containerInfo,s=hu(e);dl(e,s,l);break;default:throw Error(M(161))}}catch(u){J(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Np(e,t,n){I=e,Qc(e)}function Qc(e,t,n){for(var r=(e.mode&1)!==0;I!==null;){var i=I,o=i.child;if(i.tag===22&&r){var l=i.memoizedState!==null||Ar;if(!l){var s=i.alternate,u=s!==null&&s.memoizedState!==null||de;s=Ar;var a=de;if(Ar=l,(de=u)&&!a)for(I=i;I!==null;)l=I,u=l.child,l.tag===22&&l.memoizedState!==null?gu(i):u!==null?(u.return=l,I=u):gu(i);for(;o!==null;)I=o,Qc(o),o=o.sibling;I=i,Ar=s,de=a}yu(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,I=o):yu(e)}}function yu(e){for(;I!==null;){var t=I;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:de||Ai(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!de)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ve(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&eu(t,o,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}eu(t,l,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var a=t.alternate;if(a!==null){var c=a.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&ir(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}de||t.flags&512&&fl(t)}catch(h){J(t,t.return,h)}}if(t===e){I=null;break}if(n=t.sibling,n!==null){n.return=t.return,I=n;break}I=t.return}}function vu(e){for(;I!==null;){var t=I;if(t===e){I=null;break}var n=t.sibling;if(n!==null){n.return=t.return,I=n;break}I=t.return}}function gu(e){for(;I!==null;){var t=I;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ai(4,t)}catch(u){J(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){J(t,i,u)}}var o=t.return;try{fl(t)}catch(u){J(t,o,u)}break;case 5:var l=t.return;try{fl(t)}catch(u){J(t,l,u)}}}catch(u){J(t,t.return,u)}if(t===e){I=null;break}var s=t.sibling;if(s!==null){s.return=t.return,I=s;break}I=t.return}}var Ip=Math.ceil,Ci=ct.ReactCurrentDispatcher,ns=ct.ReactCurrentOwner,Oe=ct.ReactCurrentBatchConfig,U=0,le=null,te=null,ue=0,Pe=0,cn=Nt(0),re=0,mr=null,$t=0,Fi=0,rs=0,Kn=null,we=null,is=0,En=1/0,et=null,Ei=!1,hl=null,Et=null,Fr=!1,vt=null,Pi=0,Zn=0,ml=null,Jr=-1,ei=0;function ye(){return U&6?ee():Jr!==-1?Jr:Jr=ee()}function Pt(e){return e.mode&1?U&2&&ue!==0?ue&-ue:hp.transition!==null?(ei===0&&(ei=za()),ei):(e=G,e!==0||(e=window.event,e=e===void 0?16:Ba(e.type)),e):1}function $e(e,t,n,r){if(50<Zn)throw Zn=0,ml=null,Error(M(185));vr(e,n,r),(!(U&2)||e!==le)&&(e===le&&(!(U&2)&&(Fi|=n),re===4&&mt(e,ue)),Ee(e,r),n===1&&U===0&&!(t.mode&1)&&(En=ee()+500,Li&&It()))}function Ee(e,t){var n=e.callbackNode;hd(e,t);var r=ui(e,e===le?ue:0);if(r===0)n!==null&&_s(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&_s(n),t===1)e.tag===0?pp(xu.bind(null,e)):ic(xu.bind(null,e)),ap(function(){!(U&6)&&It()}),n=null;else{switch(Ra(r)){case 1:n=Nl;break;case 4:n=Na;break;case 16:n=si;break;case 536870912:n=Ia;break;default:n=si}n=nf(n,Xc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Xc(e,t){if(Jr=-1,ei=0,U&6)throw Error(M(327));var n=e.callbackNode;if(yn()&&e.callbackNode!==n)return null;var r=ui(e,e===le?ue:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Mi(e,r);else{t=r;var i=U;U|=2;var o=Zc();(le!==e||ue!==t)&&(et=null,En=ee()+500,Bt(e,t));do try{Lp();break}catch(s){Kc(e,s)}while(!0);bl(),Ci.current=o,U=i,te!==null?t=0:(le=null,ue=0,t=re)}if(t!==0){if(t===2&&(i=Go(e),i!==0&&(r=i,t=yl(e,i))),t===1)throw n=mr,Bt(e,0),mt(e,r),Ee(e,ee()),n;if(t===6)mt(e,r);else{if(i=e.current.alternate,!(r&30)&&!zp(i)&&(t=Mi(e,r),t===2&&(o=Go(e),o!==0&&(r=o,t=yl(e,o))),t===1))throw n=mr,Bt(e,0),mt(e,r),Ee(e,ee()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(M(345));case 2:Ot(e,we,et);break;case 3:if(mt(e,r),(r&130023424)===r&&(t=is+500-ee(),10<t)){if(ui(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){ye(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ko(Ot.bind(null,e,we,et),t);break}Ot(e,we,et);break;case 4:if(mt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var l=31-He(r);o=1<<l,l=t[l],l>i&&(i=l),r&=~o}if(r=i,r=ee()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ip(r/1960))-r,10<r){e.timeoutHandle=Ko(Ot.bind(null,e,we,et),r);break}Ot(e,we,et);break;case 5:Ot(e,we,et);break;default:throw Error(M(329))}}}return Ee(e,ee()),e.callbackNode===n?Xc.bind(null,e):null}function yl(e,t){var n=Kn;return e.current.memoizedState.isDehydrated&&(Bt(e,t).flags|=256),e=Mi(e,t),e!==2&&(t=we,we=n,t!==null&&vl(t)),e}function vl(e){we===null?we=e:we.push.apply(we,e)}function zp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Ye(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function mt(e,t){for(t&=~rs,t&=~Fi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-He(t),r=1<<n;e[n]=-1,t&=~r}}function xu(e){if(U&6)throw Error(M(327));yn();var t=ui(e,0);if(!(t&1))return Ee(e,ee()),null;var n=Mi(e,t);if(e.tag!==0&&n===2){var r=Go(e);r!==0&&(t=r,n=yl(e,r))}if(n===1)throw n=mr,Bt(e,0),mt(e,t),Ee(e,ee()),n;if(n===6)throw Error(M(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ot(e,we,et),Ee(e,ee()),null}function os(e,t){var n=U;U|=1;try{return e(t)}finally{U=n,U===0&&(En=ee()+500,Li&&It())}}function Wt(e){vt!==null&&vt.tag===0&&!(U&6)&&yn();var t=U;U|=1;var n=Oe.transition,r=G;try{if(Oe.transition=null,G=1,e)return e()}finally{G=r,Oe.transition=n,U=t,!(U&6)&&It()}}function ls(){Pe=cn.current,Y(cn)}function Bt(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,up(n)),te!==null)for(n=te.return;n!==null;){var r=n;switch(Ul(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&pi();break;case 3:kn(),Y(ke),Y(pe),Xl();break;case 5:Ql(r);break;case 4:kn();break;case 13:Y(X);break;case 19:Y(X);break;case 10:Hl(r.type._context);break;case 22:case 23:ls()}n=n.return}if(le=e,te=e=Mt(e.current,null),ue=Pe=t,re=0,mr=null,rs=Fi=$t=0,we=Kn=null,At!==null){for(t=0;t<At.length;t++)if(n=At[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var l=o.next;o.next=i,r.next=l}n.pending=r}At=null}return e}function Kc(e,t){do{var n=te;try{if(bl(),Kr.current=ki,Si){for(var r=K.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Si=!1}if(Ht=0,oe=ne=K=null,Qn=!1,dr=0,ns.current=null,n===null||n.return===null){re=1,mr=t,te=null;break}e:{var o=e,l=n.return,s=n,u=t;if(t=ue,s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var a=u,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=lu(l);if(g!==null){g.flags&=-257,su(g,l,s,o,t),g.mode&1&&ou(o,a,t),t=g,u=a;var v=t.updateQueue;if(v===null){var x=new Set;x.add(u),t.updateQueue=x}else v.add(u);break e}else{if(!(t&1)){ou(o,a,t),ss();break e}u=Error(M(426))}}else if(Q&&s.mode&1){var P=lu(l);if(P!==null){!(P.flags&65536)&&(P.flags|=256),su(P,l,s,o,t),Vl(Cn(u,s));break e}}o=u=Cn(u,s),re!==4&&(re=2),Kn===null?Kn=[o]:Kn.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var p=Rc(o,u,t);Js(o,p);break e;case 1:s=u;var d=o.type,m=o.stateNode;if(!(o.flags&128)&&(typeof d.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Et===null||!Et.has(m)))){o.flags|=65536,t&=-t,o.lanes|=t;var y=Lc(o,s,t);Js(o,y);break e}}o=o.return}while(o!==null)}Jc(n)}catch(w){t=w,te===n&&n!==null&&(te=n=n.return);continue}break}while(!0)}function Zc(){var e=Ci.current;return Ci.current=ki,e===null?ki:e}function ss(){(re===0||re===3||re===2)&&(re=4),le===null||!($t&268435455)&&!(Fi&268435455)||mt(le,ue)}function Mi(e,t){var n=U;U|=2;var r=Zc();(le!==e||ue!==t)&&(et=null,Bt(e,t));do try{Rp();break}catch(i){Kc(e,i)}while(!0);if(bl(),U=n,Ci.current=r,te!==null)throw Error(M(261));return le=null,ue=0,re}function Rp(){for(;te!==null;)qc(te)}function Lp(){for(;te!==null&&!od();)qc(te)}function qc(e){var t=tf(e.alternate,e,Pe);e.memoizedProps=e.pendingProps,t===null?Jc(e):te=t,ns.current=null}function Jc(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=_p(n,t),n!==null){n.flags&=32767,te=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{re=6,te=null;return}}else if(n=Mp(n,t,Pe),n!==null){te=n;return}if(t=t.sibling,t!==null){te=t;return}te=t=e}while(t!==null);re===0&&(re=5)}function Ot(e,t,n){var r=G,i=Oe.transition;try{Oe.transition=null,G=1,Op(e,t,n,r)}finally{Oe.transition=i,G=r}return null}function Op(e,t,n,r){do yn();while(vt!==null);if(U&6)throw Error(M(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(M(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(md(e,o),e===le&&(te=le=null,ue=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Fr||(Fr=!0,nf(si,function(){return yn(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Oe.transition,Oe.transition=null;var l=G;G=1;var s=U;U|=4,ns.current=null,Tp(e,n),Yc(n,e),tp(Qo),ai=!!Yo,Qo=Yo=null,e.current=n,Np(n),ld(),U=s,G=l,Oe.transition=o}else e.current=n;if(Fr&&(Fr=!1,vt=e,Pi=i),o=e.pendingLanes,o===0&&(Et=null),ad(n.stateNode),Ee(e,ee()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ei)throw Ei=!1,e=hl,hl=null,e;return Pi&1&&e.tag!==0&&yn(),o=e.pendingLanes,o&1?e===ml?Zn++:(Zn=0,ml=e):Zn=0,It(),null}function yn(){if(vt!==null){var e=Ra(Pi),t=Oe.transition,n=G;try{if(Oe.transition=null,G=16>e?16:e,vt===null)var r=!1;else{if(e=vt,vt=null,Pi=0,U&6)throw Error(M(331));var i=U;for(U|=4,I=e.current;I!==null;){var o=I,l=o.child;if(I.flags&16){var s=o.deletions;if(s!==null){for(var u=0;u<s.length;u++){var a=s[u];for(I=a;I!==null;){var c=I;switch(c.tag){case 0:case 11:case 15:Xn(8,c,o)}var f=c.child;if(f!==null)f.return=c,I=f;else for(;I!==null;){c=I;var h=c.sibling,g=c.return;if(Hc(c),c===a){I=null;break}if(h!==null){h.return=g,I=h;break}I=g}}}var v=o.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var P=x.sibling;x.sibling=null,x=P}while(x!==null)}}I=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,I=l;else e:for(;I!==null;){if(o=I,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Xn(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,I=p;break e}I=o.return}}var d=e.current;for(I=d;I!==null;){l=I;var m=l.child;if(l.subtreeFlags&2064&&m!==null)m.return=l,I=m;else e:for(l=d;I!==null;){if(s=I,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Ai(9,s)}}catch(w){J(s,s.return,w)}if(s===l){I=null;break e}var y=s.sibling;if(y!==null){y.return=s.return,I=y;break e}I=s.return}}if(U=i,It(),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Ti,e)}catch{}r=!0}return r}finally{G=n,Oe.transition=t}}return!1}function wu(e,t,n){t=Cn(n,t),t=Rc(e,t,1),e=Ct(e,t,1),t=ye(),e!==null&&(vr(e,1,t),Ee(e,t))}function J(e,t,n){if(e.tag===3)wu(e,e,n);else for(;t!==null;){if(t.tag===3){wu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Et===null||!Et.has(r))){e=Cn(n,e),e=Lc(t,e,1),t=Ct(t,e,1),e=ye(),t!==null&&(vr(t,1,e),Ee(t,e));break}}t=t.return}}function Dp(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ye(),e.pingedLanes|=e.suspendedLanes&n,le===e&&(ue&n)===n&&(re===4||re===3&&(ue&130023424)===ue&&500>ee()-is?Bt(e,0):rs|=n),Ee(e,t)}function ef(e,t){t===0&&(e.mode&1?(t=jr,jr<<=1,!(jr&130023424)&&(jr=4194304)):t=1);var n=ye();e=ut(e,t),e!==null&&(vr(e,t,n),Ee(e,n))}function Ap(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ef(e,n)}function Fp(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(M(314))}r!==null&&r.delete(t),ef(e,n)}var tf;tf=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ke.current)Se=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Se=!1,Pp(e,t,n);Se=!!(e.flags&131072)}else Se=!1,Q&&t.flags&1048576&&oc(t,yi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qr(e,t),e=t.pendingProps;var i=xn(t,pe.current);mn(t,n),i=Zl(null,t,r,e,i,n);var o=ql();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ce(r)?(o=!0,hi(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Wl(t),i.updater=Di,t.stateNode=i,i._reactInternals=t,rl(t,r,e,n),t=ll(null,t,r,!0,o,n)):(t.tag=0,Q&&o&&Bl(t),me(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qr(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Up(r),e=Ve(r,e),i){case 0:t=ol(null,t,r,e,n);break e;case 1:t=cu(null,t,r,e,n);break e;case 11:t=uu(null,t,r,e,n);break e;case 14:t=au(null,t,r,Ve(r.type,e),n);break e}throw Error(M(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ve(r,i),ol(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ve(r,i),cu(e,t,r,i,n);case 3:e:{if(Fc(t),e===null)throw Error(M(387));r=t.pendingProps,o=t.memoizedState,i=o.element,fc(e,t),xi(t,r,null,n);var l=t.memoizedState;if(r=l.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Cn(Error(M(423)),t),t=fu(e,t,r,n,i);break e}else if(r!==i){i=Cn(Error(M(424)),t),t=fu(e,t,r,n,i);break e}else for(_e=kt(t.stateNode.containerInfo.firstChild),je=t,Q=!0,be=null,n=ac(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(wn(),r===i){t=at(e,t,n);break e}me(e,t,r,n)}t=t.child}return t;case 5:return dc(t),e===null&&el(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,l=i.children,Xo(r,i)?l=null:o!==null&&Xo(r,o)&&(t.flags|=32),Ac(e,t),me(e,t,l,n),t.child;case 6:return e===null&&el(t),null;case 13:return Bc(e,t,n);case 4:return Yl(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Sn(t,null,r,n):me(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ve(r,i),uu(e,t,r,i,n);case 7:return me(e,t,t.pendingProps,n),t.child;case 8:return me(e,t,t.pendingProps.children,n),t.child;case 12:return me(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,l=i.value,H(vi,r._currentValue),r._currentValue=l,o!==null)if(Ye(o.value,l)){if(o.children===i.children&&!ke.current){t=at(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){l=o.child;for(var u=s.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=ot(-1,n&-n),u.tag=2;var a=o.updateQueue;if(a!==null){a=a.shared;var c=a.pending;c===null?u.next=u:(u.next=c.next,c.next=u),a.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),tl(o.return,n,t),s.lanes|=n;break}u=u.next}}else if(o.tag===10)l=o.type===t.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(M(341));l.lanes|=n,s=l.alternate,s!==null&&(s.lanes|=n),tl(l,n,t),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===t){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}me(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,mn(t,n),i=De(i),r=r(i),t.flags|=1,me(e,t,r,n),t.child;case 14:return r=t.type,i=Ve(r,t.pendingProps),i=Ve(r.type,i),au(e,t,r,i,n);case 15:return Oc(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ve(r,i),qr(e,t),t.tag=1,Ce(r)?(e=!0,hi(t)):e=!1,mn(t,n),zc(t,r,i),rl(t,r,i,n),ll(null,t,r,!0,e,n);case 19:return Uc(e,t,n);case 22:return Dc(e,t,n)}throw Error(M(156,t.tag))};function nf(e,t){return Ta(e,t)}function Bp(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Le(e,t,n,r){return new Bp(e,t,n,r)}function us(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Up(e){if(typeof e=="function")return us(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_l)return 11;if(e===jl)return 14}return 2}function Mt(e,t){var n=e.alternate;return n===null?(n=Le(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ti(e,t,n,r,i,o){var l=2;if(r=e,typeof e=="function")us(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Jt:return Ut(n.children,i,o,t);case Ml:l=8,i|=8;break;case _o:return e=Le(12,n,t,i|2),e.elementType=_o,e.lanes=o,e;case jo:return e=Le(13,n,t,i),e.elementType=jo,e.lanes=o,e;case To:return e=Le(19,n,t,i),e.elementType=To,e.lanes=o,e;case da:return Bi(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ca:l=10;break e;case fa:l=9;break e;case _l:l=11;break e;case jl:l=14;break e;case dt:l=16,r=null;break e}throw Error(M(130,e==null?e:typeof e,""))}return t=Le(l,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Ut(e,t,n,r){return e=Le(7,e,r,t),e.lanes=n,e}function Bi(e,t,n,r){return e=Le(22,e,r,t),e.elementType=da,e.lanes=n,e.stateNode={isHidden:!1},e}function vo(e,t,n){return e=Le(6,e,null,t),e.lanes=n,e}function go(e,t,n){return t=Le(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vp(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zi(0),this.expirationTimes=Zi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zi(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function as(e,t,n,r,i,o,l,s,u){return e=new Vp(e,t,n,s,u),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Le(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wl(o),e}function Gp(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qt,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function rf(e){if(!e)return jt;e=e._reactInternals;e:{if(Qt(e)!==e||e.tag!==1)throw Error(M(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ce(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(M(171))}if(e.tag===1){var n=e.type;if(Ce(n))return rc(e,n,t)}return t}function of(e,t,n,r,i,o,l,s,u){return e=as(n,r,!0,e,i,o,l,s,u),e.context=rf(null),n=e.current,r=ye(),i=Pt(n),o=ot(r,i),o.callback=t??null,Ct(n,o,i),e.current.lanes=i,vr(e,i,r),Ee(e,r),e}function Ui(e,t,n,r){var i=t.current,o=ye(),l=Pt(i);return n=rf(n),t.context===null?t.context=n:t.pendingContext=n,t=ot(o,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ct(i,t,l),e!==null&&($e(e,i,l,o),Xr(e,i,l)),l}function _i(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Su(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function cs(e,t){Su(e,t),(e=e.alternate)&&Su(e,t)}function bp(){return null}var lf=typeof reportError=="function"?reportError:function(e){console.error(e)};function fs(e){this._internalRoot=e}Vi.prototype.render=fs.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(M(409));Ui(e,t,null,null)};Vi.prototype.unmount=fs.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Wt(function(){Ui(null,e,null,null)}),t[st]=null}};function Vi(e){this._internalRoot=e}Vi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Da();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ht.length&&t!==0&&t<ht[n].priority;n++);ht.splice(n,0,e),n===0&&Fa(e)}};function ds(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Gi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ku(){}function Hp(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var a=_i(l);o.call(a)}}var l=of(t,r,e,0,null,!1,!1,"",ku);return e._reactRootContainer=l,e[st]=l.current,sr(e.nodeType===8?e.parentNode:e),Wt(),l}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var a=_i(u);s.call(a)}}var u=as(e,0,!1,null,null,!1,!1,"",ku);return e._reactRootContainer=u,e[st]=u.current,sr(e.nodeType===8?e.parentNode:e),Wt(function(){Ui(t,u,n,r)}),u}function bi(e,t,n,r,i){var o=n._reactRootContainer;if(o){var l=o;if(typeof i=="function"){var s=i;i=function(){var u=_i(l);s.call(u)}}Ui(t,l,e,i)}else l=Hp(n,t,e,i,r);return _i(l)}La=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Vn(t.pendingLanes);n!==0&&(Il(t,n|1),Ee(t,ee()),!(U&6)&&(En=ee()+500,It()))}break;case 13:Wt(function(){var r=ut(e,1);if(r!==null){var i=ye();$e(r,e,1,i)}}),cs(e,1)}};zl=function(e){if(e.tag===13){var t=ut(e,134217728);if(t!==null){var n=ye();$e(t,e,134217728,n)}cs(e,134217728)}};Oa=function(e){if(e.tag===13){var t=Pt(e),n=ut(e,t);if(n!==null){var r=ye();$e(n,e,t,r)}cs(e,t)}};Da=function(){return G};Aa=function(e,t){var n=G;try{return G=e,t()}finally{G=n}};Bo=function(e,t,n){switch(t){case"input":if(zo(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ri(r);if(!i)throw Error(M(90));ha(r),zo(r,i)}}}break;case"textarea":ya(e,n);break;case"select":t=n.value,t!=null&&fn(e,!!n.multiple,t,!1)}};Ca=os;Ea=Wt;var $p={usingClientEntryPoint:!1,Events:[xr,rn,Ri,Sa,ka,os]},An={findFiberByHostInstance:Dt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Wp={bundleType:An.bundleType,version:An.version,rendererPackageName:An.rendererPackageName,rendererConfig:An.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ct.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=_a(e),e===null?null:e.stateNode},findFiberByHostInstance:An.findFiberByHostInstance||bp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Br=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Br.isDisabled&&Br.supportsFiber)try{Ti=Br.inject(Wp),qe=Br}catch{}}Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$p;Ne.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ds(t))throw Error(M(200));return Gp(e,t,null,n)};Ne.createRoot=function(e,t){if(!ds(e))throw Error(M(299));var n=!1,r="",i=lf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=as(e,1,!1,null,null,n,!1,r,i),e[st]=t.current,sr(e.nodeType===8?e.parentNode:e),new fs(t)};Ne.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(M(188)):(e=Object.keys(e).join(","),Error(M(268,e)));return e=_a(t),e=e===null?null:e.stateNode,e};Ne.flushSync=function(e){return Wt(e)};Ne.hydrate=function(e,t,n){if(!Gi(t))throw Error(M(200));return bi(null,e,t,!0,n)};Ne.hydrateRoot=function(e,t,n){if(!ds(e))throw Error(M(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",l=lf;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=of(t,null,e,1,n??null,i,!1,o,l),e[st]=t.current,sr(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Vi(t)};Ne.render=function(e,t,n){if(!Gi(t))throw Error(M(200));return bi(null,e,t,!1,n)};Ne.unmountComponentAtNode=function(e){if(!Gi(e))throw Error(M(40));return e._reactRootContainer?(Wt(function(){bi(null,null,e,!1,function(){e._reactRootContainer=null,e[st]=null})}),!0):!1};Ne.unstable_batchedUpdates=os;Ne.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Gi(n))throw Error(M(200));if(e==null||e._reactInternals===void 0)throw Error(M(38));return bi(e,t,n,!1,r)};Ne.version="18.3.1-next-f1338f8080-20240426";function sf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sf)}catch(e){console.error(e)}}sf(),la.exports=Ne;var Yp=la.exports,Cu=Yp;Po.createRoot=Cu.createRoot,Po.hydrateRoot=Cu.hydrateRoot;/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qp=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Xp=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),Eu=e=>{const t=Xp(e);return t.charAt(0).toUpperCase()+t.slice(1)},uf=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),Kp=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Zp={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qp=z.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...s},u)=>z.createElement("svg",{ref:u,...Zp,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:uf("lucide",i),...!o&&!Kp(s)&&{"aria-hidden":"true"},...s},[...l.map(([a,c])=>z.createElement(a,c)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=(e,t)=>{const n=z.forwardRef(({className:r,...i},o)=>z.createElement(qp,{ref:o,iconNode:t,className:uf(`lucide-${Qp(Eu(e))}`,`lucide-${e}`,r),...i}));return n.displayName=Eu(e),n};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],af=Xt("box",Jp);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],cf=Xt("circle",eh);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],nh=Xt("eye-off",th);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ih=Xt("eye",rh);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],lh=Xt("rotate-ccw",oh);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],uh=Xt("rotate-cw",sh);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ch=Xt("trash-2",ah),fh={},Pu=e=>{let t;const n=new Set,r=(c,f)=>{const h=typeof c=="function"?c(t):c;if(!Object.is(h,t)){const g=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(v=>v(t,g))}},i=()=>t,u={setState:r,getState:i,getInitialState:()=>a,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(fh?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},a=t=e(r,i,u);return u},dh=e=>e?Pu(e):Pu;var ff={exports:{}},df={},pf={exports:{}},hf={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pn=z;function ph(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var hh=typeof Object.is=="function"?Object.is:ph,mh=Pn.useState,yh=Pn.useEffect,vh=Pn.useLayoutEffect,gh=Pn.useDebugValue;function xh(e,t){var n=t(),r=mh({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return vh(function(){i.value=n,i.getSnapshot=t,xo(i)&&o({inst:i})},[e,n,t]),yh(function(){return xo(i)&&o({inst:i}),e(function(){xo(i)&&o({inst:i})})},[e]),gh(n),n}function xo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!hh(e,n)}catch{return!0}}function wh(e,t){return t()}var Sh=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?wh:xh;hf.useSyncExternalStore=Pn.useSyncExternalStore!==void 0?Pn.useSyncExternalStore:Sh;pf.exports=hf;var kh=pf.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hi=z,Ch=kh;function Eh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ph=typeof Object.is=="function"?Object.is:Eh,Mh=Ch.useSyncExternalStore,_h=Hi.useRef,jh=Hi.useEffect,Th=Hi.useMemo,Nh=Hi.useDebugValue;df.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=_h(null);if(o.current===null){var l={hasValue:!1,value:null};o.current=l}else l=o.current;o=Th(function(){function u(g){if(!a){if(a=!0,c=g,g=r(g),i!==void 0&&l.hasValue){var v=l.value;if(i(v,g))return f=v}return f=g}if(v=f,Ph(c,g))return v;var x=r(g);return i!==void 0&&i(v,x)?(c=g,v):(c=g,f=x)}var a=!1,c,f,h=n===void 0?null:n;return[function(){return u(t())},h===null?void 0:function(){return u(h())}]},[t,n,r,i]);var s=Mh(e,o[0],o[1]);return jh(function(){l.hasValue=!0,l.value=s},[s]),Nh(s),s};ff.exports=df;var Ih=ff.exports;const zh=Yu(Ih),mf={},{useDebugValue:Rh}=ia,{useSyncExternalStoreWithSelector:Lh}=zh;let Mu=!1;const Oh=e=>e;function Dh(e,t=Oh,n){(mf?"production":void 0)!=="production"&&n&&!Mu&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Mu=!0);const r=Lh(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Rh(r),r}const _u=e=>{(mf?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?dh(e):e,n=(r,i)=>Dh(t,r,i);return Object.assign(n,t),n},ps=e=>e?_u(e):_u,Ah="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let Ke=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+=Ah[n[e]&63];return t};function yf(){return{position:[0,0,0],rotation:[0,0,0],scale:[1,1,1]}}function vf(){return{type:"plastic",color:[.8,.8,.8],ior:1.5,intensity:5}}function Fh(){return{name:"Sphere",type:"sphere",transform:yf(),material:vf(),visible:!0}}function Bh(){return{name:"Cuboid",type:"cuboid",transform:yf(),material:vf(),visible:!0}}const Uh=[{value:"plastic",label:"Plastic"},{value:"metal",label:"Metal"},{value:"glass",label:"Glass"},{value:"light",label:"Light"}],Vh=30;function wo(e){const{past:t,future:n,undo:r,redo:i,canUndo:o,canRedo:l,...s}=e;return s}const Gh=(e,t={})=>(n,r,i)=>{const o=t.limit??Vh;return{...e((u,a)=>{const c=wo(r());n(f=>({...typeof u=="function"?u(f):u,past:[...f.past.slice(-o+1),c],future:[]}),a)},r,i),past:[],future:[],undo:()=>{const{past:u,future:a}=r();if(u.length===0)return;const c=u[u.length-1],f=wo(r());n({...c,past:u.slice(0,-1),future:[f,...a]})},redo:()=>{const{past:u,future:a}=r();if(a.length===0)return;const c=a[0],f=wo(r());n({...c,past:[...u,f],future:a.slice(1)})},canUndo:()=>r().past.length>0,canRedo:()=>r().future.length>0}},Vt={maxObjects:256,maxDpr:2,maxRenderSize:4096};function bh(e){return()=>(e=e*1103515245+12345&2147483647,e/2147483647)}function Hh(e,t,n){const r=(1-Math.abs(2*n-1))*t,i=r*(1-Math.abs(e/60%2-1)),o=n-r/2;let l=0,s=0,u=0;return e<60?(l=r,s=i,u=0):e<120?(l=i,s=r,u=0):e<180?(l=0,s=r,u=i):e<240?(l=0,s=i,u=r):e<300?(l=i,s=0,u=r):(l=r,s=0,u=i),[l+o,s+o,u+o]}function $h(){const e=[],t=bh(1337),n=-1;e.push({id:Ke(),name:"Gallery Floor",type:"cuboid",transform:{position:[0,n-.08,0],rotation:[0,0,0],scale:[10,.08,10]},material:{type:"plastic",color:[.08,.09,.11],ior:1.5,intensity:5},visible:!0},{id:Ke(),name:"Backdrop",type:"cuboid",transform:{position:[0,3,-8],rotation:[0,0,0],scale:[10,5,.08]},material:{type:"plastic",color:[.92,.95,1],ior:1.5,intensity:5},visible:!0},{id:Ke(),name:"Plinth Left",type:"cuboid",transform:{position:[-3.2,n+.55,-1.8],rotation:[0,.22,0],scale:[1.35,.55,1.35]},material:{type:"plastic",color:[.84,.84,.86],ior:1.5,intensity:5},visible:!0},{id:Ke(),name:"Plinth Right",type:"cuboid",transform:{position:[3.1,n+.8,-1.2],rotation:[0,-.18,0],scale:[1.1,.8,1.1]},material:{type:"plastic",color:[.88,.88,.9],ior:1.5,intensity:5},visible:!0}),e.push({id:Ke(),name:"Key Light",type:"sphere",transform:{position:[7.5,7,-4.5],rotation:[0,0,0],scale:[1.8,1.8,1.8]},material:{type:"light",color:[1,.98,.95],ior:1.5,intensity:14},visible:!0},{id:Ke(),name:"Fill Light",type:"sphere",transform:{position:[-8.5,4,2.5],rotation:[0,0,0],scale:[1.2,1.2,1.2]},material:{type:"light",color:[.75,.86,1],ior:1.5,intensity:6},visible:!0});const r=[{name:"Chrome Hero",position:[0,n+1.05,.35],radius:1.05,material:{type:"metal",color:[.96,.97,.99]}},{name:"Crystal Hero",position:[-3.2,n+.55+.55+.82,-1.8],radius:.82,material:{type:"glass",color:[.97,.99,1],ior:1.52}},{name:"Gold Hero",position:[3.1,n+.8+.8+.72,-1.2],radius:.72,material:{type:"metal",color:[1,.78,.25]}}],i=[],o=(v,x,P,p)=>{e.push({id:Ke(),name:v,type:"sphere",transform:{position:x,rotation:[0,0,0],scale:[P,P,P]},material:{type:p.type,color:p.color,ior:p.type==="glass"?p.ior??1.5:1.5,intensity:p.type==="light"?10:5},visible:!0}),i.push({position:x,radius:P})},l=(v,x)=>{const P=v[0]-x[0],p=v[1]-x[1],d=v[2]-x[2];return P*P+p*p+d*d},s=(v,x)=>{for(const p of i){const d=x+p.radius+.04;if(l(v,p.position)<d*d)return!1}return!0};for(const v of r)o(v.name,v.position,v.radius,v.material);const u=[[.92,.28,.32],[.25,.64,.96],[.2,.82,.55],[.95,.78,.18],[.66,.42,.92],[.95,.5,.2],[.35,.9,.9],[.98,.98,.98]],a=[[.93,.94,.96],[1,.78,.22],[.95,.62,.45],[.78,.82,.98]],c=18,f=[.62,.56,.52,.48,.44,.4,.36,.34,.32,.3,.28,.26,.24,.22,.2,.18,.16,.14],h=2.399963229728653,g=.55;for(let v=0;v<c;v++){const x=f[v];let P=!1;for(let p=0;p<500;p++){const d=v+p*.12,m=d*h,y=g*Math.sqrt(d+1)+(t()-.5)*.25,w=y*Math.cos(m),S=y*Math.sin(m),C=[w*1.25,n+x,S*1.05+.8];if(!s(C,x))continue;const E=t();let _="plastic";E<.22?_="glass":E<.45&&(_="metal");let j=u[v%u.length],O=1.5;if(_==="metal")j=a[v%a.length];else if(_==="glass"){const D=v*47%360;j=Hh(D,.12,.96),O=1.45+t()*.12}o(`Orb ${String(v+1).padStart(2,"0")}`,C,x,{type:_,color:j,ior:O}),P=!0;break}if(!P)break}return e}const V=ps()(Gh((e,t)=>({objects:$h(),selectedObjectId:null,addSphere:()=>{if(t().objects.length>=Vt.maxObjects)return null;const n=Ke(),r=t().objects.filter(o=>o.type==="sphere").length+1,i={id:n,...Fh(),name:`Sphere ${r}`};return e(o=>({objects:[...o.objects,i]})),n},addCuboid:()=>{if(t().objects.length>=Vt.maxObjects)return null;const n=Ke(),r=t().objects.filter(o=>o.type==="cuboid").length+1,i={id:n,...Bh(),name:`Cuboid ${r}`};return e(o=>({objects:[...o.objects,i]})),n},removeObject:n=>{e(r=>({objects:r.objects.filter(i=>i.id!==n),selectedObjectId:r.selectedObjectId===n?null:r.selectedObjectId}))},duplicateObject:n=>{const r=t().getObject(n);if(!r)return null;const i=Ke(),o={...structuredClone(r),id:i,name:`${r.name} Copy`,transform:{...r.transform,position:[r.transform.position[0]+.5,r.transform.position[1],r.transform.position[2]+.5]}};return e(l=>({objects:[...l.objects,o],selectedObjectId:i})),i},renameObject:(n,r)=>{e(i=>({objects:i.objects.map(o=>o.id===n?{...o,name:r}:o)}))},toggleVisibility:n=>{e(r=>({objects:r.objects.map(i=>i.id===n?{...i,visible:!i.visible}:i)}))},selectObject:n=>{e({selectedObjectId:n})},getSelectedObject:()=>{const{objects:n,selectedObjectId:r}=t();return n.find(i=>i.id===r)??null},deleteSelected:()=>{const n=t().selectedObjectId;n&&t().removeObject(n)},duplicateSelected:()=>{const n=t().selectedObjectId;return n?t().duplicateObject(n):null},updateObject:(n,r)=>{e(i=>({objects:i.objects.map(o=>o.id===n?{...o,...r}:o)}))},updateTransform:(n,r)=>{e(i=>({objects:i.objects.map(o=>o.id===n?{...o,transform:{...o.transform,...r}}:o)}))},updateMaterial:(n,r)=>{e(i=>({objects:i.objects.map(o=>o.id===n?{...o,material:{...o.material,...r}}:o)}))},getObject:n=>t().objects.find(r=>r.id===n),clear:()=>{e({objects:[],selectedObjectId:null})}}),{limit:30})),vn=z.forwardRef(({className:e="",variant:t="primary",size:n="md",children:r,...i},o)=>{const l="inline-flex items-center justify-center font-medium transition-colors rounded-md disabled:opacity-50",s={primary:"bg-accent hover:bg-accent-hover text-white",secondary:"bg-elevated hover:bg-hover text-text-primary border border-border-default",ghost:"hover:bg-hover text-text-secondary"},u={sm:"text-xs px-2 py-1",md:"text-sm px-3 py-1.5",lg:"text-base px-4 py-2"};return k.jsx("button",{ref:o,className:`${l} ${s[t]} ${u[n]} ${e}`,...i,children:r})});vn.displayName="Button";function Wh(){const{addSphere:e,addCuboid:t,selectObject:n,objects:r}=V(),i=r.length>=Vt.maxObjects,o=()=>{const s=e();s&&n(s)},l=()=>{const s=t();s&&n(s)};return k.jsxs("div",{className:"p-3 border-b border-border-subtle",children:[k.jsx("h2",{className:"text-xs font-semibold text-text-secondary uppercase tracking-wider mb-3",children:"Add Object"}),i&&k.jsxs("div",{className:"text-xs text-accent-error mb-2",children:["Maximum object limit reached (",Vt.maxObjects,")"]}),k.jsxs("div",{className:"flex gap-2",children:[k.jsxs(vn,{onClick:o,className:"flex-1",variant:"secondary",disabled:i,children:[k.jsx(cf,{className:"w-4 h-4 mr-2"}),"Sphere"]}),k.jsxs(vn,{onClick:l,className:"flex-1",variant:"secondary",disabled:i,children:[k.jsx(af,{className:"w-4 h-4 mr-2"}),"Cuboid"]})]})]})}function Yh(){const{objects:e,selectedObjectId:t,selectObject:n,toggleVisibility:r,removeObject:i}=V();return k.jsxs("div",{className:"flex flex-col h-full",children:[k.jsx("h2",{className:"px-3 py-2 text-xs font-semibold text-text-secondary uppercase tracking-wider border-b border-border-subtle",children:"Scene Objects"}),k.jsx("div",{className:"flex-1 overflow-y-auto",children:e.length===0?k.jsx("div",{className:"p-3 text-sm text-text-muted",children:"No objects in scene"}):k.jsx("ul",{children:e.map(o=>k.jsx(Qh,{object:o,isSelected:o.id===t,onSelect:()=>n(o.id),onToggleVisibility:()=>r(o.id),onDelete:()=>i(o.id)},o.id))})})]})}function Qh({object:e,isSelected:t,onSelect:n,onToggleVisibility:r,onDelete:i}){const o=e.type==="sphere"?cf:af,l=V(x=>x.renameObject),[s,u]=z.useState(!1),[a,c]=z.useState(e.name),f=z.useRef(null);z.useEffect(()=>{s&&f.current&&(f.current.focus(),f.current.select())},[s]);const h=()=>{u(!0),c(e.name)},g=()=>{const x=a.trim();x&&x!==e.name&&l(e.id,x),u(!1),c(e.name)},v=x=>{x.key==="Enter"?g():x.key==="Escape"&&(u(!1),c(e.name))};return k.jsxs("li",{className:`
        flex items-center gap-2 px-3 py-2 cursor-pointer transition-colors
        ${t?"bg-active":"hover:bg-hover"}
      `,onClick:n,onDoubleClick:h,children:[k.jsx(o,{className:"w-4 h-4 text-text-secondary flex-shrink-0"}),s?k.jsx("input",{ref:f,type:"text",value:a,onChange:x=>c(x.target.value),onBlur:g,onKeyDown:v,onClick:x=>x.stopPropagation(),className:`
            flex-1 bg-elevated px-1 rounded text-sm
            outline-none border border-accent
          `}):k.jsx("span",{className:"flex-1 text-sm truncate",children:e.name}),k.jsx("button",{className:"p-1 hover:bg-elevated rounded opacity-60 hover:opacity-100 transition-opacity",onClick:x=>{x.stopPropagation(),r()},children:e.visible?k.jsx(ih,{className:"w-3 h-3"}):k.jsx(nh,{className:"w-3 h-3 text-text-muted"})}),k.jsx("button",{className:"p-1 hover:bg-elevated rounded opacity-60 hover:opacity-100 text-accent-error transition-opacity",onClick:x=>{x.stopPropagation(),i()},children:k.jsx(ch,{className:"w-3 h-3"})})]})}function Xh(){return k.jsxs("aside",{className:"w-60 bg-panel border-r border-border-subtle flex flex-col",children:[k.jsx(Wh,{}),k.jsx("div",{className:"flex-1 overflow-hidden",children:k.jsx(Yh,{})})]})}function hs({title:e,children:t}){return k.jsxs("div",{className:"border-b border-border-subtle",children:[k.jsx("h3",{className:"px-3 py-2 text-xs font-semibold text-text-secondary uppercase tracking-wider bg-panel-secondary",children:e}),k.jsx("div",{className:"p-3",children:t})]})}function ni({value:e,onChange:t,min:n=-1/0,max:r=1/0,step:i=.1,precision:o=2,label:l,dragSensitivity:s=.1}){const[u,a]=z.useState(!1),[c,f]=z.useState(e.toFixed(o)),[h,g]=z.useState(!1),v=z.useRef({x:0,value:0}),x=z.useRef(null);z.useEffect(()=>{h||f(e.toFixed(o))},[e,o,h]);const P=z.useCallback(y=>{y.target!==x.current&&(y.preventDefault(),a(!0),v.current={x:y.clientX,value:e},document.body.style.cursor="ew-resize")},[e]);z.useEffect(()=>{if(!u)return;const y=S=>{const C=(S.clientX-v.current.x)*s;let E=v.current.value+C*i*10;E=Math.max(n,Math.min(r,E)),E=Math.round(E/i)*i,t(E)},w=()=>{a(!1),document.body.style.cursor=""};return window.addEventListener("mousemove",y),window.addEventListener("mouseup",w),()=>{window.removeEventListener("mousemove",y),window.removeEventListener("mouseup",w)}},[u,t,n,r,i,s]);const p=y=>{f(y.target.value)},d=()=>{g(!1);const y=parseFloat(c);if(isNaN(y))f(e.toFixed(o));else{const w=Math.max(n,Math.min(r,y)),S=Math.round(w/i)*i;t(S),f(S.toFixed(o))}},m=y=>{var w,S;if(y.key==="Enter")(w=x.current)==null||w.blur();else if(y.key==="Escape")f(e.toFixed(o)),(S=x.current)==null||S.blur();else if(y.key==="ArrowUp"){y.preventDefault();const C=Math.min(r,e+i);t(C)}else if(y.key==="ArrowDown"){y.preventDefault();const C=Math.max(n,e-i);t(C)}};return k.jsxs("div",{className:`
        flex items-center gap-1 px-2 py-1 bg-elevated rounded border
        ${u?"border-accent":"border-border-default"}
        cursor-ew-resize select-none
      `,onMouseDown:P,children:[l&&k.jsx("span",{className:"text-xs font-medium text-text-secondary w-3",children:l}),k.jsx("input",{ref:x,type:"text",value:c,onChange:p,onFocus:()=>g(!0),onBlur:d,onKeyDown:m,className:`
          w-full bg-transparent text-xs text-right font-mono
          text-text-primary outline-none cursor-text
        `})]})}function So({label:e,value:t,onChange:n,min:r,max:i,step:o=.1,precision:l=2}){const s=(u,a)=>{const c=[...t];c[u]=a,n(c)};return k.jsxs("div",{className:"space-y-1",children:[k.jsx("label",{className:"text-xs text-text-secondary",children:e}),k.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[k.jsx(ni,{label:"X",value:t[0],onChange:u=>s(0,u),min:r,max:i,step:o,precision:l}),k.jsx(ni,{label:"Y",value:t[1],onChange:u=>s(1,u),min:r,max:i,step:o,precision:l}),k.jsx(ni,{label:"Z",value:t[2],onChange:u=>s(2,u),min:r,max:i,step:o,precision:l})]})]})}function Kh({object:e}){const t=V(l=>l.updateTransform),n=z.useCallback(l=>{t(e.id,{position:l})},[e.id,t]),r=z.useCallback(l=>{t(e.id,{rotation:l.map(s=>s*Math.PI/180)})},[e.id,t]),i=z.useCallback(l=>{if(e.type==="sphere"){const s=l[0];t(e.id,{scale:[s,s,s]})}else t(e.id,{scale:l})},[e.id,e.type,t]),o=[e.transform.rotation[0]*180/Math.PI,e.transform.rotation[1]*180/Math.PI,e.transform.rotation[2]*180/Math.PI];return k.jsx(hs,{title:"Transform",children:k.jsxs("div",{className:"space-y-4",children:[k.jsx(So,{label:"Position",value:e.transform.position,onChange:n,step:.1}),k.jsx(So,{label:"Rotation ()",value:o,onChange:r,step:1,precision:1}),e.type==="sphere"?k.jsxs("div",{className:"space-y-1",children:[k.jsx("label",{className:"text-xs text-text-secondary",children:"Radius"}),k.jsx(ni,{value:e.transform.scale[0],onChange:l=>i([l,l,l]),min:.1,step:.1})]}):k.jsx(So,{label:"Scale",value:e.transform.scale,onChange:i,min:.1,step:.1})]})})}function Zh({label:e,value:t,onChange:n,options:r}){return k.jsxs("div",{className:"space-y-1",children:[k.jsx("label",{className:"text-xs text-text-secondary",children:e}),k.jsx("select",{value:t,onChange:i=>n(i.target.value),className:`
          w-full px-3 py-2 bg-elevated rounded border border-border-default
          text-sm text-text-primary
          focus:border-accent focus:outline-none
          cursor-pointer
        `,children:r.map(i=>k.jsx("option",{value:i.value,children:i.label},i.value))})]})}function qh({label:e,value:t,onChange:n}){const r=z.useRef(null),i=a=>{const c=Math.round(a[0]*255).toString(16).padStart(2,"0"),f=Math.round(a[1]*255).toString(16).padStart(2,"0"),h=Math.round(a[2]*255).toString(16).padStart(2,"0");return`#${c}${f}${h}`},o=a=>{const c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return c?[parseInt(c[1],16)/255,parseInt(c[2],16)/255,parseInt(c[3],16)/255]:null},l=i(t),s=a=>{const c=o(a.target.value);c&&n(c)},u=a=>{const c=o(a.target.value);c&&n(c)};return k.jsxs("div",{className:"space-y-1",children:[k.jsx("label",{className:"text-xs text-text-secondary",children:e}),k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("button",{type:"button",className:"w-8 h-8 rounded border border-border-default shadow-inner cursor-pointer",style:{backgroundColor:l},onClick:()=>{var a;return(a=r.current)==null?void 0:a.click()}}),k.jsx("input",{type:"text",value:l.toUpperCase(),onChange:u,className:`
            flex-1 px-2 py-1 bg-elevated rounded border border-border-default
            text-xs font-mono text-text-primary uppercase
            focus:border-accent focus:outline-none
          `}),k.jsx("input",{ref:r,type:"color",value:l,onChange:s,className:"sr-only"})]})]})}function ju({label:e,value:t,onChange:n,min:r=0,max:i=1,step:o=.01,displayValue:l=!0,formatValue:s=u=>u.toFixed(2)}){const u=z.useRef(null),[a,c]=z.useState(!1),f=(t-r)/(i-r)*100,h=z.useCallback(v=>{if(!u.current)return;const x=u.current.getBoundingClientRect(),P=Math.max(0,Math.min(1,(v-x.left)/x.width));let p=r+P*(i-r);p=Math.round(p/o)*o,n(p)},[r,i,o,n]),g=z.useCallback(v=>{v.preventDefault(),c(!0),h(v.clientX)},[h]);return z.useEffect(()=>{if(!a)return;const v=P=>h(P.clientX),x=()=>c(!1);return window.addEventListener("mousemove",v),window.addEventListener("mouseup",x),()=>{window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",x)}},[a,h]),k.jsxs("div",{className:"space-y-1",children:[k.jsxs("div",{className:"flex justify-between items-center",children:[k.jsx("label",{className:"text-xs text-text-secondary",children:e}),l&&k.jsx("span",{className:"text-xs font-mono text-text-primary",children:s(t)})]}),k.jsx("div",{ref:u,className:"h-5 flex items-center cursor-pointer",onMouseDown:g,children:k.jsxs("div",{className:"relative w-full h-1.5 bg-elevated rounded-full",children:[k.jsx("div",{className:"absolute h-full bg-accent rounded-full",style:{width:`${f}%`}}),k.jsx("div",{className:`
              absolute top-1/2 -translate-y-1/2 w-3 h-3 rounded-full
              bg-white shadow-md border-2 border-accent
              transition-transform
              ${a?"scale-110":""}
            `,style:{left:`calc(${f}% - 6px)`}})]})})]})}function Jh({object:e}){const t=V(r=>r.updateMaterial),n=z.useCallback(r=>{t(e.id,r)},[e.id,t]);return k.jsx(hs,{title:"Material",children:k.jsxs("div",{className:"space-y-4",children:[k.jsx(Zh,{label:"Type",value:e.material.type,onChange:r=>n({type:r}),options:Uh}),k.jsx(qh,{label:"Color",value:e.material.color,onChange:r=>n({color:r})}),e.material.type==="glass"&&k.jsx(ju,{label:"Index of Refraction (IOR)",value:e.material.ior,onChange:r=>n({ior:r}),min:1,max:2.5,step:.05}),e.material.type==="light"&&k.jsx(ju,{label:"Intensity",value:e.material.intensity,onChange:r=>n({intensity:r}),min:.1,max:20,step:.1}),k.jsxs("div",{className:"text-xs text-text-tertiary italic",children:[e.material.type==="plastic"&&"Matte diffuse surface",e.material.type==="metal"&&"Perfectly reflective mirror surface",e.material.type==="glass"&&"Transparent with refraction",e.material.type==="light"&&"Emits light, illuminates scene"]})]})})}function em(){const e=V(o=>o.selectedObjectId),t=V(o=>o.duplicateSelected),n=V(o=>o.deleteSelected),r=V(o=>o.updateTransform),i=e!==null;return k.jsx(hs,{title:"Actions",children:k.jsxs("div",{className:"mx-auto w-full max-w-[260px] space-y-2",children:[k.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[k.jsx(vn,{variant:"secondary",className:"w-full justify-center",disabled:!i,onClick:()=>t(),children:"Duplicate"}),k.jsx(vn,{variant:"secondary",className:"w-full justify-center text-accent-error border border-border-default",disabled:!i,onClick:()=>n(),children:"Delete"})]}),k.jsx(vn,{variant:"secondary",className:"w-full justify-center",disabled:!i,onClick:()=>r(e,{position:[0,0,0],rotation:[0,0,0],scale:[1,1,1]}),children:"Reset Transform"})]})})}function tm(){const e=V(t=>t.getSelectedObject());return k.jsx("aside",{className:"w-72 bg-panel border-l border-border-subtle overflow-y-auto",children:e?k.jsxs(k.Fragment,{children:[k.jsx(Kh,{object:e}),k.jsx(Jh,{object:e}),k.jsx(em,{})]}):k.jsx("div",{className:"p-4 text-text-secondary text-sm",children:"Select an object to view properties"})})}function nm({rendererRef:e}){const t=V(c=>c.objects.length),n=V(c=>c.undo),r=V(c=>c.redo),i=V(c=>c.canUndo),o=V(c=>c.canRedo),[l,s]=z.useState(0),[u,a]=z.useState(0);return z.useEffect(()=>{const c=setInterval(()=>{const f=e.current;f&&(s(f.getSampleCount()),a(f.getStats().fps))},100);return()=>clearInterval(c)},[e]),k.jsxs("footer",{className:"h-6 bg-panel-secondary border-t border-border-subtle flex items-center justify-end px-4 text-xs text-text-muted gap-4",children:[k.jsxs("span",{children:["Objects: ",t]}),k.jsxs("span",{children:["Samples: ",l]}),k.jsxs("span",{children:["FPS: ",u]}),k.jsx("span",{className:"h-3 w-px bg-border-subtle","aria-hidden":"true"}),k.jsxs("div",{className:"flex items-center gap-1",children:[k.jsx("button",{type:"button",title:"Undo (Ctrl/Cmd+Z)","aria-label":"Undo",disabled:!i(),onClick:()=>n(),className:`
            p-1 rounded
            hover:bg-hover transition-colors
            disabled:opacity-40 disabled:hover:bg-transparent
          `,children:k.jsx(lh,{className:"w-4 h-4"})}),k.jsx("button",{type:"button",title:"Redo (Ctrl/Cmd+Y)","aria-label":"Redo",disabled:!o(),onClick:()=>r(),className:`
            p-1 rounded
            hover:bg-hover transition-colors
            disabled:opacity-40 disabled:hover:bg-transparent
          `,children:k.jsx(uh,{className:"w-4 h-4"})})]})]})}function rm(){return navigator.gpu?{supported:!0}:{supported:!1,reason:"WebGPU is not supported in this browser. Please use Chrome 113+, Edge 113+, or Safari 17+."}}async function im(e){const t=rm();if(!t.supported)throw new Error(t.reason);const n=await navigator.gpu.requestAdapter();if(!n)throw new Error("Failed to get WebGPU adapter. Your GPU may not support WebGPU.");const r=await n.requestDevice();r.lost.then(l=>{console.error("WebGPU device lost:",l.message),l.reason});const i=e.getContext("webgpu");if(!i)throw new Error("Failed to get WebGPU canvas context.");const o=navigator.gpu.getPreferredCanvasFormat();return i.configure({device:r,format:o,alphaMode:"premultiplied"}),{device:r,context:i,format:o,canvas:e}}const Tu=(e,t)=>[e[0]+t[0],e[1]+t[1],e[2]+t[2]],ie=(e,t)=>[e[0]-t[0],e[1]-t[1],e[2]-t[2]],gf=(e,t)=>[e[0]*t,e[1]*t,e[2]*t],b=(e,t)=>e[0]*t[0]+e[1]*t[1]+e[2]*t[2],Mn=(e,t)=>[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]],ri=e=>Math.sqrt(b(e,e)),We=e=>{const t=ri(e);return t>0?gf(e,1/t):[0,0,0]};function om(){const e=new Float32Array(16);return e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function it(e,t,n,r){const i=new Float32Array(16),o=1/Math.tan(e/2),l=1/(n-r);return i[0]=o/t,i[5]=o,i[10]=r*l,i[11]=-1,i[14]=n*r*l,i}function gl(e,t,n){const r=We(ie(e,t)),i=We(Mn(n,r)),o=Mn(r,i),l=new Float32Array(16);return l[0]=i[0],l[1]=o[0],l[2]=r[0],l[3]=0,l[4]=i[1],l[5]=o[1],l[6]=r[1],l[7]=0,l[8]=i[2],l[9]=o[2],l[10]=r[2],l[11]=0,l[12]=-b(i,e),l[13]=-b(o,e),l[14]=-b(r,e),l[15]=1,l}function lm(e,t){const n=new Float32Array(16);for(let r=0;r<4;r++)for(let i=0;i<4;i++){let o=0;for(let l=0;l<4;l++)o+=e[i+l*4]*t[l+r*4];n[i+r*4]=o}return n}function xe(e){const t=new Float32Array(16),n=e[0],r=e[1],i=e[2],o=e[3],l=e[4],s=e[5],u=e[6],a=e[7],c=e[8],f=e[9],h=e[10],g=e[11],v=e[12],x=e[13],P=e[14],p=e[15],d=n*s-r*l,m=n*u-i*l,y=n*a-o*l,w=r*u-i*s,S=r*a-o*s,C=i*a-o*u,E=c*x-f*v,_=c*P-h*v,j=c*p-g*v,O=f*P-h*x,D=f*p-g*x,B=h*p-g*P;let A=d*B-m*D+y*O+w*j-S*_+C*E;return Math.abs(A)<1e-8?om():(A=1/A,t[0]=(s*B-u*D+a*O)*A,t[1]=(i*D-r*B-o*O)*A,t[2]=(x*C-P*S+p*w)*A,t[3]=(h*S-f*C-g*w)*A,t[4]=(u*j-l*B-a*_)*A,t[5]=(n*B-i*j+o*_)*A,t[6]=(P*y-v*C-p*m)*A,t[7]=(c*C-h*y+g*m)*A,t[8]=(l*D-s*j+a*E)*A,t[9]=(r*j-n*D-o*E)*A,t[10]=(v*S-x*y+p*d)*A,t[11]=(f*y-c*S-g*d)*A,t[12]=(s*_-l*O-u*E)*A,t[13]=(n*O-r*_+i*E)*A,t[14]=(x*m-v*w-P*d)*A,t[15]=(c*w-f*m+h*d)*A,t)}function Nu(e,t){return[e[0]*t[0]+e[4]*t[1]+e[8]*t[2]+e[12]*t[3],e[1]*t[0]+e[5]*t[1]+e[9]*t[2]+e[13]*t[3],e[2]*t[0]+e[6]*t[1]+e[10]*t[2]+e[14]*t[3],e[3]*t[0]+e[7]*t[1]+e[11]*t[2]+e[15]*t[3]]}function sm(e){const t=Math.cos(e[0]),n=Math.sin(e[0]),r=Math.cos(e[1]),i=Math.sin(e[1]),o=Math.cos(e[2]),l=Math.sin(e[2]);return[r*o,r*l,-i,n*i*o-t*l,n*i*l+t*o,n*r,t*i*o+n*l,t*i*l-n*o,t*r]}function um(e){return[e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8]]}function Iu(e,t){return[e[0]*t[0]+e[3]*t[1]+e[6]*t[2],e[1]*t[0]+e[4]*t[1]+e[7]*t[2],e[2]*t[0]+e[5]*t[1]+e[8]*t[2]]}function qn(e,t,n,r,i,o,l){const s=e/n*2-1,u=1-t/r*2;let c=Nu(i,[s,u,-1,1]);c=[c[0],c[1],-1,0];const f=Nu(o,c),h=We([f[0],f[1],f[2]]);return{origin:l,direction:h}}function am(e,t,n){const r=ie(e.origin,t),i=b(e.direction,e.direction),o=2*b(r,e.direction),l=b(r,r)-n*n,s=o*o-4*i*l;if(s<0)return{hit:!1,t:1/0};const u=Math.sqrt(s);let a=(-o-u)/(2*i);return a<.001&&(a=(-o+u)/(2*i)),a<.001?{hit:!1,t:1/0}:{hit:!0,t:a}}function cm(e,t,n){const r=[1/e.direction[0],1/e.direction[1],1/e.direction[2]],i=(t[0]-n[0]-e.origin[0])*r[0],o=(t[0]+n[0]-e.origin[0])*r[0],l=(t[1]-n[1]-e.origin[1])*r[1],s=(t[1]+n[1]-e.origin[1])*r[1],u=(t[2]-n[2]-e.origin[2])*r[2],a=(t[2]+n[2]-e.origin[2])*r[2],c=Math.max(Math.max(Math.min(i,o),Math.min(l,s)),Math.min(u,a)),f=Math.min(Math.min(Math.max(i,o),Math.max(l,s)),Math.max(u,a));if(f<0||c>f)return{hit:!1,t:1/0};const h=c<0?f:c;return h<.001?{hit:!1,t:1/0}:{hit:!0,t:h}}class fm{constructor(){N(this,"position",[0,2,5]);N(this,"target",[0,0,0]);N(this,"up",[0,1,0]);N(this,"fovY",Math.PI/3);N(this,"aspect",1)}setAspect(t){this.aspect=t}setPosition(t){this.position=t}setTarget(t){this.target=t}getViewMatrix(){return gl(this.position,this.target,this.up)}getProjectionMatrix(){return it(this.fovY,this.aspect,.1,1e3)}getInverseViewMatrix(){return xe(this.getViewMatrix())}getInverseProjectionMatrix(){return xe(this.getProjectionMatrix())}getUniformData(){const t=new Float32Array(36);return t.set(this.getInverseProjectionMatrix(),0),t.set(this.getInverseViewMatrix(),16),t.set(this.position,32),t}}const zu=128,Ru=256,Lu=256,dm={plastic:0,metal:1,glass:2,light:3};class pm{constructor(t){N(this,"device");N(this,"buffer");N(this,"stagingData");this.device=t;const n=Lu+Ru*zu;this.buffer=t.createBuffer({size:n,usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST}),this.stagingData=new Float32Array(n/4)}upload(t){const n=t.filter(s=>s.visible),r=Math.min(n.length,Ru);this.stagingData.fill(0);const i=new Uint32Array(this.stagingData.buffer,0,4);i[0]=r;const o=Lu/4,l=zu/4;for(let s=0;s<r;s++){const u=n[s],a=o+s*l;this.writeObject(u,a)}this.device.queue.writeBuffer(this.buffer,0,this.stagingData.buffer)}writeObject(t,n){const r=this.stagingData,i=new Uint32Array(r.buffer);r[n+0]=t.transform.position[0],r[n+1]=t.transform.position[1],r[n+2]=t.transform.position[2],i[n+3]=t.type==="sphere"?0:1,r[n+4]=t.transform.scale[0],r[n+5]=t.transform.scale[1],r[n+6]=t.transform.scale[2],r[n+7]=0,r[n+8]=t.transform.rotation[0],r[n+9]=t.transform.rotation[1],r[n+10]=t.transform.rotation[2],r[n+11]=0,r[n+12]=0,r[n+13]=0,r[n+14]=0,r[n+15]=0;const o=n+16;r[o+0]=t.material.color[0],r[o+1]=t.material.color[1],r[o+2]=t.material.color[2],i[o+3]=dm[t.material.type],r[o+4]=t.material.ior,r[o+5]=t.material.intensity,r[o+6]=0,r[o+7]=0,r[o+8]=0,r[o+9]=0,r[o+10]=0,r[o+11]=0,r[o+12]=0,r[o+13]=0,r[o+14]=0,r[o+15]=0}getBuffer(){return this.buffer}destroy(){this.buffer.destroy()}}const hm=`// ============================================
// Constants
// ============================================

const PI: f32 = 3.14159265359;
const EPSILON: f32 = 0.001;
const MAX_FLOAT: f32 = 3.402823466e+38;

// ============================================
// Random Number Generation (PCG)
// ============================================

fn pcg_hash(input: u32) -> u32 {
  var state = input * 747796405u + 2891336453u;
  var word = ((state >> ((state >> 28u) + 4u)) ^ state) * 277803737u;
  return (word >> 22u) ^ word;
}

fn initRandom(pixel: vec2<u32>, frame: u32) -> u32 {
  return pcg_hash(pixel.x + pcg_hash(pixel.y + pcg_hash(frame)));
}

fn randomFloat(state: ptr<function, u32>) -> f32 {
  *state = pcg_hash(*state);
  return f32(*state) / f32(0xFFFFFFFFu);
}

fn randomFloat2(state: ptr<function, u32>) -> vec2<f32> {
  return vec2<f32>(randomFloat(state), randomFloat(state));
}

// Cosine-weighted hemisphere sampling (for diffuse surfaces)
fn randomCosineHemisphere(state: ptr<function, u32>, normal: vec3<f32>) -> vec3<f32> {
  let r1 = randomFloat(state);
  let r2 = randomFloat(state);
  
  let phi = 2.0 * PI * r1;
  let cosTheta = sqrt(r2);
  let sinTheta = sqrt(1.0 - r2);
  
  // Create local coordinate system
  var tangent: vec3<f32>;
  if (abs(normal.x) > 0.9) {
    tangent = normalize(cross(vec3<f32>(0.0, 1.0, 0.0), normal));
  } else {
    tangent = normalize(cross(vec3<f32>(1.0, 0.0, 0.0), normal));
  }
  let bitangent = cross(normal, tangent);
  
  // Transform to world space
  return normalize(
    tangent * cos(phi) * sinTheta +
    bitangent * sin(phi) * sinTheta +
    normal * cosTheta
  );
}

// ============================================
// Material Helper Functions
// ============================================

// Schlick's approximation for Fresnel reflectance
fn schlickReflectance(cosine: f32, refIdx: f32) -> f32 {
  var r0 = (1.0 - refIdx) / (1.0 + refIdx);
  r0 = r0 * r0;
  return r0 + (1.0 - r0) * pow(1.0 - cosine, 5.0);
}

// Refract a ray using Snell's law
// Returns (refracted direction, success flag)
fn refractRay(incident: vec3<f32>, normal: vec3<f32>, etaRatio: f32) -> vec3<f32> {
  let cosI = dot(-incident, normal);
  let sin2T = etaRatio * etaRatio * (1.0 - cosI * cosI);
  
  // Total internal reflection check
  if (sin2T > 1.0) {
    return reflect(incident, normal);
  }
  
  let cosT = sqrt(1.0 - sin2T);
  return etaRatio * incident + (etaRatio * cosI - cosT) * normal;
}

// ============================================
// Camera Uniforms
// ============================================

struct CameraUniforms {
  inverseProjection: mat4x4<f32>,
  inverseView: mat4x4<f32>,
  position: vec3<f32>,
}

// ============================================
// Scene Data Structures
// ============================================

struct SceneHeader {
  objectCount: u32,
  _pad: vec3<u32>,
}

struct SceneObject {
  // Transform section (64 bytes)
  position: vec3<f32>,
  objectType: u32,        // 0 = sphere, 1 = cuboid
  scale: vec3<f32>,
  _pad1: f32,
  rotation: vec3<f32>,    // Euler angles
  _pad2: f32,
  _transform_pad: vec4<f32>,
  
  // Material section (64 bytes)
  color: vec3<f32>,
  materialType: u32,      // 0 = plastic, 1 = metal, 2 = glass, 3 = light
  ior: f32,               // Index of refraction (glass only)
  intensity: f32,         // Emission intensity (light only)
  _mat_pad2: vec2<f32>,
  _material_pad1: vec4<f32>,
  _material_pad2: vec4<f32>,
}

// Material type constants
const MAT_PLASTIC: u32 = 0u;
const MAT_METAL: u32 = 1u;
const MAT_GLASS: u32 = 2u;
const MAT_LIGHT: u32 = 3u;

// ============================================
// Render Settings
// ============================================

struct RenderSettings {
  frameIndex: u32,
  samplesPerPixel: u32,
  maxBounces: u32,
  flags: u32,  // bit 0: accumulate
  selectedObjectIndex: i32,  // -1 if none selected
  _pad: vec3<u32>,
}

// ============================================
// Accumulation Buffer
// ============================================

struct AccumulationData {
  r: f32,
  g: f32,
  b: f32,
  samples: f32,
}

// ============================================
// Bindings
// ============================================

@group(0) @binding(0) var<uniform> camera: CameraUniforms;
@group(0) @binding(1) var<uniform> settings: RenderSettings;
@group(0) @binding(2) var outputTexture: texture_storage_2d<rgba8unorm, write>;
@group(0) @binding(3) var<storage, read_write> accumulationBuffer: array<AccumulationData>;
@group(0) @binding(4) var<storage, read> sceneHeader: SceneHeader;
@group(0) @binding(5) var<storage, read> sceneObjects: array<SceneObject>;

// ============================================
// Ray Structure
// ============================================

struct Ray {
  origin: vec3<f32>,
  direction: vec3<f32>,
}

// ============================================
// Intersection Structures
// ============================================

struct HitRecord {
  hit: bool,
  t: f32,
  position: vec3<f32>,
  normal: vec3<f32>,
}

struct HitResult {
  hit: bool,
  t: f32,
  position: vec3<f32>,
  normal: vec3<f32>,
  objectIndex: i32,
}

// ============================================
// Rotation Matrix from Euler Angles (ZYX order)
// ============================================

fn rotationMatrix(euler: vec3<f32>) -> mat3x3<f32> {
  let cx = cos(euler.x);
  let sx = sin(euler.x);
  let cy = cos(euler.y);
  let sy = sin(euler.y);
  let cz = cos(euler.z);
  let sz = sin(euler.z);
  
  // Combined rotation matrix (ZYX order)
  return mat3x3<f32>(
    cy * cz,                      cy * sz,                     -sy,
    sx * sy * cz - cx * sz,       sx * sy * sz + cx * cz,      sx * cy,
    cx * sy * cz + sx * sz,       cx * sy * sz - sx * cz,      cx * cy
  );
}

// ============================================
// Primitive Intersection Functions
// ============================================

// Sphere intersection (in object space, radius = 1)
fn intersectSphere(ray: Ray, center: vec3<f32>, radius: f32) -> HitRecord {
  var result: HitRecord;
  result.hit = false;
  
  let oc = ray.origin - center;
  let a = dot(ray.direction, ray.direction);
  let b = 2.0 * dot(oc, ray.direction);
  let c = dot(oc, oc) - radius * radius;
  let discriminant = b * b - 4.0 * a * c;
  
  if (discriminant < 0.0) {
    return result;
  }
  
  let sqrtD = sqrt(discriminant);
  var t = (-b - sqrtD) / (2.0 * a);
  
  if (t < 0.001) {
    t = (-b + sqrtD) / (2.0 * a);
  }
  
  if (t < 0.001) {
    return result;
  }
  
  result.hit = true;
  result.t = t;
  result.position = ray.origin + t * ray.direction;
  result.normal = normalize(result.position - center);
  
  return result;
}

// Box (cuboid) intersection using slab method
fn intersectBox(ray: Ray, center: vec3<f32>, halfExtents: vec3<f32>) -> HitRecord {
  var result: HitRecord;
  result.hit = false;
  
  let invDir = 1.0 / ray.direction;
  let t0 = (center - halfExtents - ray.origin) * invDir;
  let t1 = (center + halfExtents - ray.origin) * invDir;
  
  let tMin = min(t0, t1);
  let tMax = max(t0, t1);
  
  let tNear = max(max(tMin.x, tMin.y), tMin.z);
  let tFar = min(min(tMax.x, tMax.y), tMax.z);
  
  if (tNear > tFar || tFar < 0.0) {
    return result;
  }
  
  var t = tNear;
  if (t < 0.001) {
    t = tFar;
  }
  if (t < 0.001) {
    return result;
  }
  
  result.hit = true;
  result.t = t;
  result.position = ray.origin + t * ray.direction;
  
  // Calculate normal (which face was hit)
  let p = result.position - center;
  let d = halfExtents;
  
  result.normal = normalize(vec3<f32>(
    f32(abs(p.x) > d.x - 0.001) * sign(p.x),
    f32(abs(p.y) > d.y - 0.001) * sign(p.y),
    f32(abs(p.z) > d.z - 0.001) * sign(p.z)
  ));
  
  return result;
}

// ============================================
// Ray Generation
// ============================================

fn generateRay(pixelCoord: vec2<f32>, resolution: vec2<f32>) -> Ray {
  // Convert to NDC (-1 to 1)
  let ndc = vec2<f32>(
    (pixelCoord.x / resolution.x) * 2.0 - 1.0,
    1.0 - (pixelCoord.y / resolution.y) * 2.0  // Flip Y
  );
  
  // Unproject through inverse matrices
  var rayClip = vec4<f32>(ndc, -1.0, 1.0);
  var rayEye = camera.inverseProjection * rayClip;
  rayEye = vec4<f32>(rayEye.xy, -1.0, 0.0);
  
  let rayWorld = (camera.inverseView * rayEye).xyz;
  
  var ray: Ray;
  ray.origin = camera.position;
  ray.direction = normalize(rayWorld);
  
  return ray;
}

// ============================================
// Scene Tracing (Dynamic)
// ============================================

fn traceScene(ray: Ray) -> HitResult {
  var closest: HitResult;
  closest.hit = false;
  closest.t = 999999.0;
  closest.objectIndex = -1;
  
  let objectCount = sceneHeader.objectCount;
  
  for (var i = 0u; i < objectCount; i++) {
    let obj = sceneObjects[i];
    
    // Transform ray to object space (apply inverse rotation)
    let rotMat = rotationMatrix(obj.rotation);
    let invRotMat = transpose(rotMat);
    
    var localRay: Ray;
    localRay.origin = invRotMat * (ray.origin - obj.position);
    localRay.direction = invRotMat * ray.direction;
    
    var hit: HitRecord;
    
    if (obj.objectType == 0u) {
      // Sphere - scale.x is radius (uniform scale)
      hit = intersectSphere(localRay, vec3<f32>(0.0), obj.scale.x);
    } else {
      // Cuboid - scale is half-extents
      hit = intersectBox(localRay, vec3<f32>(0.0), obj.scale);
    }
    
    if (hit.hit && hit.t < closest.t) {
      closest.hit = true;
      closest.t = hit.t;
      closest.position = ray.origin + hit.t * ray.direction;
      // Transform normal back to world space
      closest.normal = normalize(rotMat * hit.normal);
      closest.objectIndex = i32(i);
    }
  }
  
  return closest;
}

// ============================================
// Sky/Environment
// ============================================

fn sampleSky(direction: vec3<f32>) -> vec3<f32> {
  // Blue sky gradient with gentle haze  bright, friendly, and readable.
  let t = clamp(0.5 * (direction.y + 1.0), 0.0, 1.0);

  let horizon = vec3<f32>(0.86, 0.93, 1.00);
  let mid = vec3<f32>(0.48, 0.72, 0.98);
  let zenith = vec3<f32>(0.18, 0.36, 0.78);

  var sky = mix(horizon, mid, smoothstep(0.0, 0.35, t));
  sky = mix(sky, zenith, smoothstep(0.35, 1.0, t));

  // Subtle sun bloom for nicer highlights in reflections (directional-ish).
  let sunDir = normalize(vec3<f32>(0.25, 0.65, -0.72));
  let sun = pow(max(0.0, dot(normalize(direction), sunDir)), 256.0);
  sky += vec3<f32>(1.0, 0.98, 0.92) * sun * 2.0;

  // Slightly dim so emissives still pop.
  return sky * 0.75;
}

// ============================================
// Path Tracing
// ============================================

fn trace(primaryRay: Ray, rng: ptr<function, u32>) -> vec3<f32> {
  var ray = primaryRay;
  var throughput = vec3<f32>(1.0);
  var radiance = vec3<f32>(0.0);
  
  for (var bounce = 0u; bounce < settings.maxBounces; bounce++) {
    let hit = traceScene(ray);
    
    if (!hit.hit) {
      // Hit sky - add sky contribution and terminate
      radiance += throughput * sampleSky(ray.direction);
      break;
    }
    
    let obj = sceneObjects[hit.objectIndex];
    var newDir: vec3<f32>;
    var newOrigin: vec3<f32>;
    
    // Handle material types
    switch obj.materialType {
      case MAT_LIGHT: {
        // Emissive material - add light and terminate
        radiance += throughput * obj.color * obj.intensity;
        return radiance;
      }
      
      case MAT_METAL: {
        // Perfect mirror reflection with color tinting
        newDir = reflect(ray.direction, hit.normal);
        throughput *= obj.color;
        newOrigin = hit.position + hit.normal * EPSILON;
      }
      
      case MAT_GLASS: {
        // Dielectric material with refraction
        let frontFace = dot(ray.direction, hit.normal) < 0.0;
        let surfaceNormal = select(-hit.normal, hit.normal, frontFace);
        let etaRatio = select(obj.ior, 1.0 / obj.ior, frontFace);
        
        let cosTheta = min(dot(-ray.direction, surfaceNormal), 1.0);
        let sinTheta = sqrt(1.0 - cosTheta * cosTheta);
        
        // Check for total internal reflection
        let cannotRefract = etaRatio * sinTheta > 1.0;
        let reflectProb = schlickReflectance(cosTheta, etaRatio);
        
        if (cannotRefract || randomFloat(rng) < reflectProb) {
          // Reflect
          newDir = reflect(ray.direction, surfaceNormal);
          newOrigin = hit.position + surfaceNormal * EPSILON;
        } else {
          // Refract
          newDir = refractRay(ray.direction, surfaceNormal, etaRatio);
          newOrigin = hit.position - surfaceNormal * EPSILON;
        }
        
        // Glass is colorless by default, but can be tinted
        throughput *= obj.color;
      }
      
      case MAT_PLASTIC, default: {
        // Diffuse with slight specular highlight
        let diffuseDir = randomCosineHemisphere(rng, hit.normal);
        let reflectDir = reflect(ray.direction, hit.normal);
        
        // 95% diffuse, 5% specular (plastic has slight sheen)
        let isSpecular = randomFloat(rng) < 0.05;
        newDir = select(diffuseDir, reflectDir, isSpecular);
        throughput *= obj.color;
        newOrigin = hit.position + hit.normal * EPSILON;
      }
    }
    
    // Russian roulette for path termination (after bounce 3)
    if (bounce > 3u) {
      let p = max(throughput.x, max(throughput.y, throughput.z));
      if (randomFloat(rng) > p) {
        break;
      }
      throughput /= p;
    }
    
    // Setup next ray
    ray.origin = newOrigin;
    ray.direction = newDir;
  }
  
  return radiance;
}

// ============================================
// Main Compute Entry
// ============================================

@compute @workgroup_size(8, 8)
fn main(@builtin(global_invocation_id) globalId: vec3<u32>) {
  let resolution = vec2<f32>(textureDimensions(outputTexture));
  let pixelCoord = vec2<f32>(f32(globalId.x), f32(globalId.y));
  
  // Early exit if outside texture bounds
  if (pixelCoord.x >= resolution.x || pixelCoord.y >= resolution.y) {
    return;
  }
  
  // Calculate buffer index
  let width = u32(resolution.x);
  let bufferIndex = globalId.y * width + globalId.x;
  
  // Initialize random state from pixel position and frame index
  var rng = initRandom(globalId.xy, settings.frameIndex);
  
  // Jitter for anti-aliasing
  let jitter = randomFloat2(&rng) - 0.5;
  let ray = generateRay(pixelCoord + 0.5 + jitter, resolution);
  
  // Check if first hit is selected object (for highlight)
  let firstHit = traceScene(ray);
  let isSelectedHit = firstHit.hit && firstHit.objectIndex == settings.selectedObjectIndex;
  
  // Path trace
  var color = trace(ray, &rng);
  
  // Clamp fireflies (extremely bright pixels from low-probability paths)
  color = min(color, vec3<f32>(10.0));
  
  // Apply selection highlight using Fresnel-based rim glow
  if (isSelectedHit) {
    // Calculate rim factor based on viewing angle (Fresnel-like effect)
    let viewDir = -ray.direction; // View direction is opposite of ray direction
    let rimFactor = 1.0 - abs(dot(viewDir, firstHit.normal));
    
    // Create bright rim glow that's stronger at edges
    let rimPower = pow(rimFactor, 2.5); // Sharper falloff for cleaner edge
    let rimColor = vec3<f32>(0.3, 0.7, 1.0); // Bright cyan-blue
    let rimGlow = rimColor * rimPower * 1.5;
    
    // Add rim glow to the color
    color += rimGlow;
  }
  
  // Accumulation using buffer
  var accumulated: vec3<f32>;
  
  if (settings.frameIndex == 0u || (settings.flags & 1u) == 0u) {
    // First frame or accumulation disabled - just use current sample
    accumulated = color;
  } else {
    // Progressive accumulation using running average
    let prev = accumulationBuffer[bufferIndex];
    let previous = vec3<f32>(prev.r, prev.g, prev.b);
    let totalSamples = f32(settings.frameIndex + 1u);
    accumulated = previous + (color - previous) / totalSamples;
  }
  
  // Store accumulated color in buffer
  accumulationBuffer[bufferIndex] = AccumulationData(accumulated.r, accumulated.g, accumulated.b, 1.0);
  
  // Tone mapping (Reinhard) and gamma correction for output
  var finalColor = accumulated;
  finalColor = finalColor / (finalColor + vec3<f32>(1.0));  // Reinhard tone mapping
  finalColor = pow(finalColor, vec3<f32>(1.0 / 2.2));       // Gamma correction
  
  textureStore(outputTexture, vec2<i32>(globalId.xy), vec4<f32>(finalColor, 1.0));
}
`;class mm{constructor(t){N(this,"device");N(this,"pipeline");N(this,"bindGroupLayout");N(this,"bindGroup",null);N(this,"outputTexture",null);N(this,"outputTextureView",null);N(this,"accumulationBuffer",null);N(this,"cameraBuffer");N(this,"settingsBuffer");N(this,"sceneBuffer");N(this,"width",0);N(this,"height",0);N(this,"frameIndex",0);this.device=t;const n=t.createShaderModule({code:hm});this.sceneBuffer=new pm(t),this.bindGroupLayout=t.createBindGroupLayout({entries:[{binding:0,visibility:GPUShaderStage.COMPUTE,buffer:{type:"uniform"}},{binding:1,visibility:GPUShaderStage.COMPUTE,buffer:{type:"uniform"}},{binding:2,visibility:GPUShaderStage.COMPUTE,storageTexture:{access:"write-only",format:"rgba8unorm"}},{binding:3,visibility:GPUShaderStage.COMPUTE,buffer:{type:"storage"}},{binding:4,visibility:GPUShaderStage.COMPUTE,buffer:{type:"read-only-storage"}},{binding:5,visibility:GPUShaderStage.COMPUTE,buffer:{type:"read-only-storage"}}]});const r=t.createPipelineLayout({bindGroupLayouts:[this.bindGroupLayout]});this.pipeline=t.createComputePipeline({layout:r,compute:{module:n,entryPoint:"main"}}),this.cameraBuffer=t.createBuffer({size:144,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST}),this.settingsBuffer=t.createBuffer({size:48,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST})}resizeOutput(t,n){if(t===this.width&&n===this.height||t<=0||n<=0)return;this.width=t,this.height=n,this.outputTexture&&this.outputTexture.destroy(),this.accumulationBuffer&&this.accumulationBuffer.destroy(),this.outputTexture=this.device.createTexture({size:{width:t,height:n},format:"rgba8unorm",usage:GPUTextureUsage.STORAGE_BINDING|GPUTextureUsage.TEXTURE_BINDING}),this.outputTextureView=this.outputTexture.createView();const r=t*n*4*4;this.accumulationBuffer=this.device.createBuffer({size:r,usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST}),this.resetAccumulation(),this.rebuildBindGroup()}rebuildBindGroup(){if(!this.outputTextureView||!this.accumulationBuffer)return;const t=this.sceneBuffer.getBuffer();this.bindGroup=this.device.createBindGroup({layout:this.bindGroupLayout,entries:[{binding:0,resource:{buffer:this.cameraBuffer}},{binding:1,resource:{buffer:this.settingsBuffer}},{binding:2,resource:this.outputTextureView},{binding:3,resource:{buffer:this.accumulationBuffer}},{binding:4,resource:{buffer:t,offset:0,size:256}},{binding:5,resource:{buffer:t,offset:256}}]})}resetAccumulation(){this.frameIndex=0}getFrameIndex(){return this.frameIndex}updateSettings(){const{objects:t,selectedObjectId:n}=V.getState(),r=t.filter(u=>u.visible),i=n?r.findIndex(u=>u.id===n):-1,o=new ArrayBuffer(48),l=new Uint32Array(o),s=new Int32Array(o);l[0]=this.frameIndex,l[1]=1,l[2]=8,l[3]=1,s[4]=i,this.device.queue.writeBuffer(this.settingsBuffer,0,o)}updateCamera(t){const n=t.getUniformData();this.device.queue.writeBuffer(this.cameraBuffer,0,n.buffer)}updateScene(t){this.sceneBuffer.upload(t)}dispatch(t){if(!this.bindGroup||this.width===0||this.height===0)return;this.updateSettings();const n=t.beginComputePass();n.setPipeline(this.pipeline),n.setBindGroup(0,this.bindGroup);const r=8,i=Math.ceil(this.width/r),o=Math.ceil(this.height/r);n.dispatchWorkgroups(i,o),n.end(),this.frameIndex++}getOutputTextureView(){return this.outputTextureView}getDimensions(){return{width:this.width,height:this.height}}destroy(){this.outputTexture&&this.outputTexture.destroy(),this.accumulationBuffer&&this.accumulationBuffer.destroy(),this.cameraBuffer.destroy(),this.settingsBuffer.destroy(),this.sceneBuffer.destroy()}}const ym=`// ============================================
// Fullscreen Blit Shader
// Copies a texture to the screen using a fullscreen triangle
// ============================================

struct VertexOutput {
  @builtin(position) position: vec4<f32>,
  @location(0) uv: vec2<f32>,
}

@vertex
fn vertexMain(@builtin(vertex_index) vertexIndex: u32) -> VertexOutput {
  // Fullscreen triangle (oversized to cover entire screen)
  // Using a single triangle is more efficient than a quad
  var positions = array<vec2<f32>, 3>(
    vec2<f32>(-1.0, -1.0),
    vec2<f32>( 3.0, -1.0),
    vec2<f32>(-1.0,  3.0)
  );
  
  var uvs = array<vec2<f32>, 3>(
    vec2<f32>(0.0, 1.0),
    vec2<f32>(2.0, 1.0),
    vec2<f32>(0.0, -1.0)
  );
  
  var output: VertexOutput;
  output.position = vec4<f32>(positions[vertexIndex], 0.0, 1.0);
  output.uv = uvs[vertexIndex];
  
  return output;
}

@group(0) @binding(0) var textureSampler: sampler;
@group(0) @binding(1) var inputTexture: texture_2d<f32>;

@fragment
fn fragmentMain(input: VertexOutput) -> @location(0) vec4<f32> {
  return textureSample(inputTexture, textureSampler, input.uv);
}

`;class vm{constructor(t,n){N(this,"device");N(this,"pipeline");N(this,"sampler");N(this,"bindGroupLayout");this.device=t;const r=t.createShaderModule({code:ym});this.sampler=t.createSampler({magFilter:"linear",minFilter:"linear"}),this.bindGroupLayout=t.createBindGroupLayout({entries:[{binding:0,visibility:GPUShaderStage.FRAGMENT,sampler:{type:"filtering"}},{binding:1,visibility:GPUShaderStage.FRAGMENT,texture:{sampleType:"float"}}]});const i=t.createPipelineLayout({bindGroupLayouts:[this.bindGroupLayout]});this.pipeline=t.createRenderPipeline({layout:i,vertex:{module:r,entryPoint:"vertexMain"},fragment:{module:r,entryPoint:"fragmentMain",targets:[{format:n}]},primitive:{topology:"triangle-list"}})}createBindGroup(t){return this.device.createBindGroup({layout:this.bindGroupLayout,entries:[{binding:0,resource:this.sampler},{binding:1,resource:t}]})}render(t,n,r){const i=this.createBindGroup(r),o=t.beginRenderPass({colorAttachments:[{view:n,clearValue:{r:0,g:0,b:0,a:1},loadOp:"clear",storeOp:"store"}]});o.setPipeline(this.pipeline),o.setBindGroup(0,i),o.draw(3),o.end()}destroy(){}}const Ou={x:[.9,.22,.21,1],y:[.26,.63,.28,1],z:[.12,.53,.9,1],xy:[1,.92,.23,.5],xz:[0,.74,.83,.5],yz:[.88,.25,.98,.5]},Du={x:1,y:2,z:3,xy:4,xz:5,yz:6};function gm(){const e=[],t=[];let n=0;const r=1,i=.025,o=.25,l=.08,s=8,u=[{name:"x",dir:[1,0,0]},{name:"y",dir:[0,1,0]},{name:"z",dir:[0,0,1]}];for(const{name:h,dir:g}of u){const v=xm(g,r,i,o,l,s,Ou[h],Du[h],n);e.push(...v.vertices),t.push(...v.indices),n+=v.vertexCount}const a=.3,c=.35,f=[{name:"xy",u:[1,0,0],v:[0,1,0]},{name:"xz",u:[1,0,0],v:[0,0,1]},{name:"yz",u:[0,1,0],v:[0,0,1]}];for(const{name:h,u:g,v}of f){const x=wm(g,v,a,c,Ou[h],Du[h],n);e.push(...x.vertices),t.push(...x.indices),n+=x.vertexCount}return{vertices:new Float32Array(e),indices:new Uint16Array(t),vertexCount:n,indexCount:t.length}}function xm(e,t,n,r,i,o,l,s,u){const a=[],c=[],[f,h,g]=e;let v=Math.abs(h)<.9?[0,1,0]:[1,0,0];const x=Sm(Au(e,v));v=Au(x,e);let P=0;for(let y=0;y<=1;y++){const w=y*t;for(let S=0;S<=o;S++){const C=S/o*Math.PI*2,E=Math.cos(C)*n,_=Math.sin(C)*n;a.push(f*w+x[0]*E+v[0]*_,h*w+x[1]*E+v[1]*_,g*w+x[2]*E+v[2]*_),a.push(...l),a.push(s)}}const p=o+1;for(let y=0;y<o;y++){const w=u+y;c.push(w,w+p,w+1),c.push(w+1,w+p,w+p+1)}P+=p*2;const d=u+P;for(let y=0;y<=o;y++){const w=y/o*Math.PI*2,S=Math.cos(w)*i,C=Math.sin(w)*i;a.push(f*t+x[0]*S+v[0]*C,h*t+x[1]*S+v[1]*C,g*t+x[2]*S+v[2]*C),a.push(...l),a.push(s)}P+=p;const m=u+P;a.push(f*(t+r),h*(t+r),g*(t+r)),a.push(...l),a.push(s),P+=1;for(let y=0;y<o;y++)c.push(d+y,m,d+y+1);return{vertices:a,indices:c,vertexCount:P}}function wm(e,t,n,r,i,o,l){const s=[],u=[[r,r],[r+n,r],[r+n,r+n],[r,r+n]];for(const[c,f]of u)s.push(e[0]*c+t[0]*f,e[1]*c+t[1]*f,e[2]*c+t[2]*f),s.push(...i),s.push(o);const a=[l,l+1,l+2,l,l+2,l+3];return{vertices:s,indices:a,vertexCount:4}}function Au(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Sm(e){const t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);return t===0?[0,0,0]:[e[0]/t,e[1]/t,e[2]/t]}const Fu={x:[.9,.22,.21,1],y:[.26,.63,.28,1],z:[.12,.53,.9,1],trackball:[.5,.5,.5,.6]},Bu={x:1,y:2,z:3,trackball:7};function km(){const e=[],t=[];let n=0;const r=1,i=.02,o=64,l=8,s=[{name:"x",normal:[1,0,0]},{name:"y",normal:[0,1,0]},{name:"z",normal:[0,0,1]}];for(const{name:a,normal:c}of s){const f=Uu(c,r,i,o,l,Fu[a],Bu[a],n);e.push(...f.vertices),t.push(...f.indices),n+=f.vertexCount}const u=Uu([0,0,1],r*1.15,i*.8,o,l,Fu.trackball,Bu.trackball,n);return e.push(...u.vertices),t.push(...u.indices),n+=u.vertexCount,{vertices:new Float32Array(e),indices:new Uint16Array(t),vertexCount:n,indexCount:t.length}}function Uu(e,t,n,r,i,o,l,s){const u=[],a=[];let c=Math.abs(e[1])<.9?[0,1,0]:[1,0,0];const f=Cm(Vu(e,c)),h=Vu(f,e);for(let x=0;x<=r;x++){const P=x/r*Math.PI*2,p=Math.cos(P),d=Math.sin(P),m=f[0]*p+h[0]*d,y=f[1]*p+h[1]*d,w=f[2]*p+h[2]*d,S=[m,y,w];for(let C=0;C<=i;C++){const E=C/i*Math.PI*2,_=Math.cos(E),j=Math.sin(E),O=m*t+(S[0]*_+e[0]*j)*n,D=y*t+(S[1]*_+e[1]*j)*n,B=w*t+(S[2]*_+e[2]*j)*n;u.push(O,D,B),u.push(...o),u.push(l)}}const g=i+1;for(let x=0;x<r;x++)for(let P=0;P<i;P++){const p=s+x*g+P,d=s+(x+1)*g+P,m=s+(x+1)*g+P+1,y=s+x*g+P+1;a.push(p,d,m,p,m,y)}const v=(r+1)*(i+1);return{vertices:u,indices:a,vertexCount:v}}function Vu(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Cm(e){const t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);return t===0?[0,0,0]:[e[0]/t,e[1]/t,e[2]/t]}const ko={x:[.9,.22,.21,1],y:[.26,.63,.28,1],z:[.12,.53,.9,1],uniform:[1,1,1,1]},Co={x:1,y:2,z:3,uniform:7};function Em(){const e=[],t=[];let n=0;const r=1,i=.015,o=.1,l=4,s=[{name:"x",dir:[1,0,0]},{name:"y",dir:[0,1,0]},{name:"z",dir:[0,0,1]}];for(const{name:a,dir:c}of s){const f=Pm([0,0,0],[c[0]*r,c[1]*r,c[2]*r],i,l,ko[a],Co[a],n);e.push(...f.vertices),t.push(...f.indices),n+=f.vertexCount;const h=[c[0]*r,c[1]*r,c[2]*r],g=Gu(h,o,ko[a],Co[a],n);e.push(...g.vertices),t.push(...g.indices),n+=g.vertexCount}const u=Gu([0,0,0],o*1.2,ko.uniform,Co.uniform,n);return e.push(...u.vertices),t.push(...u.indices),n+=u.vertexCount,{vertices:new Float32Array(e),indices:new Uint16Array(t),vertexCount:n,indexCount:t.length}}function Pm(e,t,n,r,i,o,l){const s=[],u=[],a=t[0]-e[0],c=t[1]-e[1],f=t[2]-e[2],h=Math.sqrt(a*a+c*c+f*f),g=[a/h,c/h,f/h];let v=Math.abs(g[1])<.9?[0,1,0]:[1,0,0];const x=Mm(bu(g,v));v=bu(x,g);for(let p=0;p<=1;p++){const d=p===0?e:t;for(let m=0;m<=r;m++){const y=m/r*Math.PI*2,w=Math.cos(y)*n,S=Math.sin(y)*n;s.push(d[0]+x[0]*w+v[0]*S,d[1]+x[1]*w+v[1]*S,d[2]+x[2]*w+v[2]*S),s.push(...i),s.push(o)}}const P=r+1;for(let p=0;p<r;p++){const d=l+p;u.push(d,d+P,d+1),u.push(d+1,d+P,d+P+1)}return{vertices:s,indices:u,vertexCount:P*2}}function Gu(e,t,n,r,i){const o=[],l=t/2,[s,u,a]=e,c=[[s-l,u-l,a-l],[s+l,u-l,a-l],[s+l,u+l,a-l],[s-l,u+l,a-l],[s-l,u-l,a+l],[s+l,u-l,a+l],[s+l,u+l,a+l],[s-l,u+l,a+l]];for(const g of c)o.push(g[0],g[1],g[2]),o.push(...n),o.push(r);const h=[0,1,2,0,2,3,4,6,5,4,7,6,0,4,5,0,5,1,2,6,7,2,7,3,0,3,7,0,7,4,1,5,6,1,6,2].map(g=>g+i);return{vertices:o,indices:h,vertexCount:8}}function bu(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Mm(e){const t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);return t===0?[0,0,0]:[e[0]/t,e[1]/t,e[2]/t]}const _m=`// Gizmo rendering shader
// Renders translation/rotation/scale gizmos on top of the scene

struct Uniforms {
  viewProjection: mat4x4<f32>,
  gizmoPosition: vec3<f32>,
  gizmoScale: f32,
  hoveredAxis: u32,    // 0=none, 1=x, 2=y, 3=z, 4=xy, 5=xz, 6=yz, 7=xyz
  activeAxis: u32,
  _pad: vec2<f32>,
}

@group(0) @binding(0) var<uniform> uniforms: Uniforms;

struct VertexInput {
  @location(0) position: vec3<f32>,
  @location(1) color: vec4<f32>,
  @location(2) axisId: f32,  // Which axis this vertex belongs to (as float for vertex format)
}

struct VertexOutput {
  @builtin(position) position: vec4<f32>,
  @location(0) color: vec4<f32>,
}

@vertex
fn vertexMain(input: VertexInput) -> VertexOutput {
  var output: VertexOutput;
  
  // Scale gizmo to maintain constant screen size, then translate to object position
  let worldPos = input.position * uniforms.gizmoScale + uniforms.gizmoPosition;
  output.position = uniforms.viewProjection * vec4<f32>(worldPos, 1.0);
  
  // Determine highlight based on hover/active state
  var color = input.color;
  let axisId = u32(input.axisId);
  
  if (axisId == uniforms.activeAxis) {
    // Active (dragging) - full bright
    color = vec4<f32>(min(color.rgb * 1.5, vec3<f32>(1.0)), 1.0);
  } else if (axisId == uniforms.hoveredAxis) {
    // Hovered - slightly brighter
    color = vec4<f32>(min(color.rgb * 1.3, vec3<f32>(1.0)), color.a);
  }
  
  output.color = color;
  
  return output;
}

@fragment
fn fragmentMain(input: VertexOutput) -> @location(0) vec4<f32> {
  return input.color;
}

`;class jm{constructor(t,n){N(this,"device");N(this,"pipeline");N(this,"bindGroupLayout");N(this,"bindGroup");N(this,"uniformBuffer");N(this,"translateGeometry");N(this,"rotateGeometry");N(this,"scaleGeometry");N(this,"translateVertexBuffer");N(this,"translateIndexBuffer");N(this,"rotateVertexBuffer");N(this,"rotateIndexBuffer");N(this,"scaleVertexBuffer");N(this,"scaleIndexBuffer");this.device=t;const r=t.createShaderModule({code:_m});this.bindGroupLayout=t.createBindGroupLayout({entries:[{binding:0,visibility:GPUShaderStage.VERTEX,buffer:{type:"uniform"}}]});const i=t.createPipelineLayout({bindGroupLayouts:[this.bindGroupLayout]});this.pipeline=t.createRenderPipeline({layout:i,vertex:{module:r,entryPoint:"vertexMain",buffers:[{arrayStride:32,attributes:[{format:"float32x3",offset:0,shaderLocation:0},{format:"float32x4",offset:12,shaderLocation:1},{format:"float32",offset:28,shaderLocation:2}]}]},fragment:{module:r,entryPoint:"fragmentMain",targets:[{format:n,blend:{color:{srcFactor:"src-alpha",dstFactor:"one-minus-src-alpha",operation:"add"},alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"}}}]},primitive:{topology:"triangle-list",cullMode:"none"}}),this.uniformBuffer=t.createBuffer({size:96,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST}),this.bindGroup=t.createBindGroup({layout:this.bindGroupLayout,entries:[{binding:0,resource:{buffer:this.uniformBuffer}}]}),this.translateGeometry=gm(),this.rotateGeometry=km(),this.scaleGeometry=Em(),this.translateVertexBuffer=t.createBuffer({size:this.translateGeometry.vertices.byteLength,usage:GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_DST}),t.queue.writeBuffer(this.translateVertexBuffer,0,this.translateGeometry.vertices.buffer,this.translateGeometry.vertices.byteOffset,this.translateGeometry.vertices.byteLength),this.translateIndexBuffer=t.createBuffer({size:this.translateGeometry.indices.byteLength,usage:GPUBufferUsage.INDEX|GPUBufferUsage.COPY_DST}),t.queue.writeBuffer(this.translateIndexBuffer,0,this.translateGeometry.indices.buffer,this.translateGeometry.indices.byteOffset,this.translateGeometry.indices.byteLength),this.rotateVertexBuffer=t.createBuffer({size:this.rotateGeometry.vertices.byteLength,usage:GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_DST}),t.queue.writeBuffer(this.rotateVertexBuffer,0,this.rotateGeometry.vertices.buffer,this.rotateGeometry.vertices.byteOffset,this.rotateGeometry.vertices.byteLength),this.rotateIndexBuffer=t.createBuffer({size:this.rotateGeometry.indices.byteLength,usage:GPUBufferUsage.INDEX|GPUBufferUsage.COPY_DST}),t.queue.writeBuffer(this.rotateIndexBuffer,0,this.rotateGeometry.indices.buffer,this.rotateGeometry.indices.byteOffset,this.rotateGeometry.indices.byteLength),this.scaleVertexBuffer=t.createBuffer({size:this.scaleGeometry.vertices.byteLength,usage:GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_DST}),t.queue.writeBuffer(this.scaleVertexBuffer,0,this.scaleGeometry.vertices.buffer,this.scaleGeometry.vertices.byteOffset,this.scaleGeometry.vertices.byteLength),this.scaleIndexBuffer=t.createBuffer({size:this.scaleGeometry.indices.byteLength,usage:GPUBufferUsage.INDEX|GPUBufferUsage.COPY_DST}),t.queue.writeBuffer(this.scaleIndexBuffer,0,this.scaleGeometry.indices.buffer,this.scaleGeometry.indices.byteOffset,this.scaleGeometry.indices.byteLength)}render(t,n,r,i,o,l,s,u="translate"){if(u==="none")return;let a,c,f;switch(u){case"rotate":a=this.rotateVertexBuffer,c=this.rotateIndexBuffer,f=this.rotateGeometry.indexCount;break;case"scale":a=this.scaleVertexBuffer,c=this.scaleIndexBuffer,f=this.scaleGeometry.indexCount;break;case"translate":default:a=this.translateVertexBuffer,c=this.translateIndexBuffer,f=this.translateGeometry.indexCount;break}const h=o*.12,g=new ArrayBuffer(96),v=new Float32Array(g),x=new Uint32Array(g);v.set(r,0),v[16]=i[0],v[17]=i[1],v[18]=i[2],v[19]=h,x[20]=l,x[21]=s,this.device.queue.writeBuffer(this.uniformBuffer,0,g);const P=t.beginRenderPass({colorAttachments:[{view:n,loadOp:"load",storeOp:"store"}]});P.setPipeline(this.pipeline),P.setBindGroup(0,this.bindGroup),P.setVertexBuffer(0,a),P.setIndexBuffer(c,"uint16"),P.drawIndexed(f),P.end()}destroy(){this.uniformBuffer.destroy(),this.translateVertexBuffer.destroy(),this.translateIndexBuffer.destroy(),this.rotateVertexBuffer.destroy(),this.rotateIndexBuffer.destroy(),this.scaleVertexBuffer.destroy(),this.scaleIndexBuffer.destroy()}}const Ur=8,Vr=Math.PI/4,Gr=Math.PI/6,br=[0,0,0],Tm=[0,1,0],Nm=Math.PI/3,Im=.5,zm=100,Rm=-Math.PI/2+.1,Lm=Math.PI/2-.1;function Zt(e,t,n,r){const i=e[0]+t*Math.cos(r)*Math.sin(n),o=e[1]+t*Math.sin(r),l=e[2]+t*Math.cos(r)*Math.cos(n);return[i,o,l]}const Me=ps((e,t)=>({position:Zt(br,Ur,Vr,Gr),target:[...br],up:[...Tm],fovY:Nm,distance:Ur,azimuth:Vr,elevation:Gr,orbit:(n,r)=>{e(i=>{const o=i.azimuth+n,l=Math.max(Rm,Math.min(Lm,i.elevation+r)),s=Zt(i.target,i.distance,o,l);return{azimuth:o,elevation:l,position:s}})},pan:(n,r)=>{e(i=>{const o=We(ie(i.target,i.position)),l=We(Mn(o,i.up)),s=We(Mn(l,o)),u=i.distance*.002,a=[(l[0]*-n+s[0]*r)*u,(l[1]*-n+s[1]*r)*u,(l[2]*-n+s[2]*r)*u],c=[i.target[0]+a[0],i.target[1]+a[1],i.target[2]+a[2]],f=Zt(c,i.distance,i.azimuth,i.elevation);return{target:c,position:f}})},zoom:n=>{e(r=>{const i=1-n*.001,o=Math.max(Im,Math.min(zm,r.distance*i)),l=Zt(r.target,o,r.azimuth,r.elevation);return{distance:o,position:l}})},focusOn:(n,r)=>{e(i=>{const o=r??i.distance,l=Zt(n,o,i.azimuth,i.elevation);return{target:[...n],distance:o,position:l}})},reset:()=>{e({target:[...br],distance:Ur,azimuth:Vr,elevation:Gr,position:Zt(br,Ur,Vr,Gr)})},getViewMatrix:()=>{const n=t();return gl(n.position,n.target,n.up)},getInverseViewMatrix:()=>{const n=t();return xe(gl(n.position,n.target,n.up))},getProjectionMatrix:n=>{const r=t();return it(r.fovY,n,.1,1e3)},getInverseProjectionMatrix:n=>{const r=t();return xe(it(r.fovY,n,.1,1e3))}})),gt=ps(e=>({mode:"translate",hoveredAxis:null,activeAxis:null,isDragging:!1,dragStartPosition:null,dragStartMousePosition:null,setMode:t=>e({mode:t}),setHoveredAxis:t=>e({hoveredAxis:t}),startDrag:(t,n,r)=>e({activeAxis:t,isDragging:!0,dragStartPosition:n,dragStartMousePosition:r}),endDrag:()=>e({activeAxis:null,isDragging:!1,dragStartPosition:null,dragStartMousePosition:null}),reset:()=>e({hoveredAxis:null,activeAxis:null,isDragging:!1,dragStartPosition:null,dragStartMousePosition:null})}));function Hu(e){switch(e){case"x":return 1;case"y":return 2;case"z":return 3;case"xy":return 4;case"xz":return 5;case"yz":return 6;case"xyz":return 7;case"trackball":return 8;case"uniform":return 9;default:return 0}}class Om{constructor(t){N(this,"device");N(this,"context");N(this,"format");N(this,"raytracingPipeline");N(this,"blitPipeline");N(this,"gizmoRenderer");N(this,"camera");N(this,"width",0);N(this,"height",0);N(this,"animationFrameId",null);N(this,"lastFrameTime",0);N(this,"frameCount",0);N(this,"fps",0);N(this,"fpsUpdateTime",0);N(this,"unsubscribeStore",null);N(this,"lastObjectsRef",null);N(this,"render",()=>{const t=performance.now();if(this.frameCount++,t-this.fpsUpdateTime>=1e3&&(this.fps=this.frameCount,this.frameCount=0,this.fpsUpdateTime=t),this.lastFrameTime=t,this.width===0||this.height===0){this.animationFrameId=requestAnimationFrame(this.render);return}const n=Me.getState();this.camera.setPosition(n.position),this.camera.setTarget(n.target),this.raytracingPipeline.updateCamera(this.camera);const r=this.device.createCommandEncoder();this.raytracingPipeline.dispatch(r);const i=this.context.getCurrentTexture().createView(),o=this.raytracingPipeline.getOutputTextureView();o&&this.blitPipeline.render(r,i,o);const l=V.getState(),s=gt.getState();if(l.selectedObjectId&&s.mode!=="none"){const u=l.objects.find(a=>a.id===l.selectedObjectId);if(u){const a=this.camera.getViewMatrix(),c=it(n.fovY,this.width/this.height,.1,1e3),f=lm(c,a),h=Hu(s.hoveredAxis),g=Hu(s.activeAxis);this.gizmoRenderer.render(r,i,f,u.transform.position,n.distance,h,g,s.mode)}}this.device.queue.submit([r.finish()]),this.animationFrameId=requestAnimationFrame(this.render)});this.device=t.device,this.context=t.context,this.format=t.format,this.camera=new fm,this.raytracingPipeline=new mm(this.device),this.blitPipeline=new vm(this.device,this.format),this.gizmoRenderer=new jm(this.device,this.format),this.unsubscribeStore=V.subscribe(r=>{this.raytracingPipeline.updateScene(r.objects),this.lastObjectsRef!==null&&r.objects!==this.lastObjectsRef&&this.raytracingPipeline.resetAccumulation(),this.lastObjectsRef=r.objects});const n=V.getState();this.raytracingPipeline.updateScene(n.objects),this.lastObjectsRef=n.objects}resize(t,n){t<=0||n<=0||t===this.width&&n===this.height||(this.width=t,this.height=n,this.camera.setAspect(t/n),this.raytracingPipeline.resizeOutput(t,n))}start(){this.animationFrameId===null&&(this.lastFrameTime=performance.now(),this.fpsUpdateTime=this.lastFrameTime,this.render())}stop(){this.animationFrameId!==null&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null)}getCamera(){return this.camera}getSampleCount(){return this.raytracingPipeline.getFrameIndex()}resetAccumulation(){this.raytracingPipeline.resetAccumulation()}getStats(){return{fps:this.fps,frameTime:performance.now()-this.lastFrameTime,frameCount:this.frameCount,sampleCount:this.raytracingPipeline.getFrameIndex()}}destroy(){this.stop(),this.unsubscribeStore&&(this.unsubscribeStore(),this.unsubscribeStore=null),this.raytracingPipeline.destroy(),this.blitPipeline.destroy(),this.gizmoRenderer.destroy()}}class Dm{pick(t,n,r,i,o,l,s,u){const a=qn(t,n,r,i,l,s,o);return this.pickWithRay(a,u)}pickWithRay(t,n){let r={objectId:null,point:null,distance:1/0};for(const i of n){if(!i.visible)continue;const o=this.transformRayToObjectSpace(t,i);let l;if(i.type==="sphere"?l=am(o,[0,0,0],i.transform.scale[0]):l=cm(o,[0,0,0],i.transform.scale),l.hit&&l.t<r.distance){const s=[t.origin[0]+t.direction[0]*l.t,t.origin[1]+t.direction[1]*l.t,t.origin[2]+t.direction[2]*l.t];r={objectId:i.id,point:s,distance:l.t}}}return r}transformRayToObjectSpace(t,n){const r=sm(n.transform.rotation),i=um(r),o=ie(t.origin,n.transform.position),l=Iu(i,o),s=Iu(i,t.direction);return{origin:l,direction:s}}}const xf=new Dm;class Am{constructor(t,n={}){N(this,"canvas");N(this,"options");N(this,"isDragging",!1);N(this,"dragButton",-1);N(this,"lastMouseX",0);N(this,"lastMouseY",0);N(this,"isShiftDown",!1);N(this,"enabled",!0);N(this,"boundHandlers");N(this,"onCameraChange",null);this.canvas=t,this.options={orbitSensitivity:n.orbitSensitivity??.005,panSensitivity:n.panSensitivity??1,zoomSensitivity:n.zoomSensitivity??1},this.boundHandlers={mousedown:this.onMouseDown.bind(this),mousemove:this.onMouseMove.bind(this),mouseup:this.onMouseUp.bind(this),wheel:this.onWheel.bind(this),keydown:this.onKeyDown.bind(this),keyup:this.onKeyUp.bind(this),dblclick:this.onDoubleClick.bind(this),contextmenu:r=>r.preventDefault()},this.attach()}attach(){this.canvas.addEventListener("mousedown",this.boundHandlers.mousedown),this.canvas.addEventListener("mousemove",this.boundHandlers.mousemove),this.canvas.addEventListener("mouseup",this.boundHandlers.mouseup),this.canvas.addEventListener("mouseleave",this.boundHandlers.mouseup),this.canvas.addEventListener("wheel",this.boundHandlers.wheel,{passive:!1}),this.canvas.addEventListener("dblclick",this.boundHandlers.dblclick),this.canvas.addEventListener("contextmenu",this.boundHandlers.contextmenu),window.addEventListener("keydown",this.boundHandlers.keydown),window.addEventListener("keyup",this.boundHandlers.keyup)}detach(){this.canvas.removeEventListener("mousedown",this.boundHandlers.mousedown),this.canvas.removeEventListener("mousemove",this.boundHandlers.mousemove),this.canvas.removeEventListener("mouseup",this.boundHandlers.mouseup),this.canvas.removeEventListener("mouseleave",this.boundHandlers.mouseup),this.canvas.removeEventListener("wheel",this.boundHandlers.wheel),this.canvas.removeEventListener("dblclick",this.boundHandlers.dblclick),this.canvas.removeEventListener("contextmenu",this.boundHandlers.contextmenu),window.removeEventListener("keydown",this.boundHandlers.keydown),window.removeEventListener("keyup",this.boundHandlers.keyup)}notifyCameraChange(){this.onCameraChange&&this.onCameraChange()}setEnabled(t){this.enabled=t,t||(this.isDragging=!1,this.dragButton=-1,this.canvas.style.cursor="default")}onMouseDown(t){!this.enabled||t.target!==this.canvas||(this.isDragging=!0,this.dragButton=t.button,this.lastMouseX=t.clientX,this.lastMouseY=t.clientY,t.button===1||this.isShiftDown?this.canvas.style.cursor="move":t.button===0&&(this.canvas.style.cursor="grabbing"))}onMouseMove(t){if(!this.enabled||!this.isDragging)return;const n=t.clientX-this.lastMouseX,r=t.clientY-this.lastMouseY;this.lastMouseX=t.clientX,this.lastMouseY=t.clientY;const i=Me.getState();this.dragButton===1||this.dragButton===0&&this.isShiftDown?(i.pan(n*this.options.panSensitivity,r*this.options.panSensitivity),this.notifyCameraChange()):this.dragButton===0&&(i.orbit(-n*this.options.orbitSensitivity,-r*this.options.orbitSensitivity),this.notifyCameraChange())}onMouseUp(t){this.isDragging=!1,this.dragButton=-1,this.canvas.style.cursor="default"}onWheel(t){if(!this.enabled)return;t.preventDefault(),Me.getState().zoom(t.deltaY*this.options.zoomSensitivity),this.notifyCameraChange()}onKeyDown(t){if(t.target instanceof HTMLInputElement||t.target instanceof HTMLTextAreaElement)return;if(t.key==="Shift"&&(this.isShiftDown=!0),t.key==="Home"&&(Me.getState().reset(),this.notifyCameraChange()),t.key==="f"||t.key==="F"){const r=V.getState().getSelectedObject();r&&(Me.getState().focusOn(r.transform.position),this.notifyCameraChange())}t.key==="Escape"&&(V.getState().selectObject(null),this.notifyCameraChange());const n=t.key.toLowerCase();n==="w"?gt.getState().setMode("translate"):n==="e"?gt.getState().setMode("rotate"):n==="r"&&gt.getState().setMode("scale")}onKeyUp(t){t.key==="Shift"&&(this.isShiftDown=!1)}onDoubleClick(t){const n=this.canvas.getBoundingClientRect(),r=t.clientX-n.left,i=t.clientY-n.top,o=Me.getState(),l=o.getViewMatrix(),s=it(o.fovY,n.width/n.height,.1,1e3),u=xe(l),a=xe(s),c=qn(r,i,n.width,n.height,a,u,o.position),f=V.getState().objects,h=xf.pickWithRay(c,f);if(h.objectId){const g=V.getState().getObject(h.objectId);if(g){Me.getState().focusOn(g.transform.position),this.notifyCameraChange();return}}Me.getState().focusOn([0,0,0]),this.notifyCameraChange()}destroy(){this.detach()}}class $u{static pick(t,n,r,i="translate"){switch(i){case"translate":return this.pickTranslate(t,n,r);case"rotate":return this.pickRotate(t,n,r);case"scale":return this.pickScale(t,n,r);default:return null}}static pickTranslate(t,n,r){const i=1.25*r,o=.1*r,l=.3*r,s=.35*r;let u=null,a=1/0;const c=[{axis:"x",dir:[1,0,0]},{axis:"y",dir:[0,1,0]},{axis:"z",dir:[0,0,1]}];for(const{axis:h,dir:g}of c){const v=this.rayAxisDistance(t,n,g,i,o);v!==null&&v<a&&(a=v,u=h)}const f=[{axis:"xy",normal:[0,0,1],u:[1,0,0],v:[0,1,0]},{axis:"xz",normal:[0,1,0],u:[1,0,0],v:[0,0,1]},{axis:"yz",normal:[1,0,0],u:[0,1,0],v:[0,0,1]}];for(const{axis:h,normal:g,u:v,v:x}of f){const P=this.rayPlaneDistance(t,n,g,v,x,s,l);P!==null&&P<a&&(a=P,u=h)}return u}static pickRotate(t,n,r){const i=1*r,o=.06*r,l=1.15*r,s=.05*r;let u=null,a=1/0;const c=[{axis:"x",normal:[1,0,0]},{axis:"y",normal:[0,1,0]},{axis:"z",normal:[0,0,1]}];for(const{axis:h,normal:g}of c){const v=this.rayTorusDistance(t,n,g,i,o);v!==null&&v<a&&(a=v,u=h)}const f=this.rayTorusDistance(t,n,[0,0,1],l,s);return f!==null&&f<a&&(a=f,u="xyz"),u}static pickScale(t,n,r){const i=1*r,o=.05*r,l=.12*r,s=.15*r;let u=null,a=1/0;const c=this.rayCubeDistance(t,n,s);c!==null&&c<a&&(a=c,u="xyz");const f=[{axis:"x",dir:[1,0,0]},{axis:"y",dir:[0,1,0]},{axis:"z",dir:[0,0,1]}];for(const{axis:h,dir:g}of f){const v=this.rayAxisDistance(t,n,g,i,o);v!==null&&v<a&&(a=v,u=h);const x=[n[0]+g[0]*i,n[1]+g[1]*i,n[2]+g[2]*i],P=this.rayCubeDistance(t,x,l);P!==null&&P<a&&(a=P,u=h)}return u}static rayTorusDistance(t,n,r,i,o){const l=b(t.direction,r);if(Math.abs(l)<.1)return this.rayTorusParallel(t,n,r,i,o);const s=ie(n,t.origin),u=b(s,r)/l;if(u<0)return null;const a=[t.origin[0]+t.direction[0]*u,t.origin[1]+t.direction[1]*u,t.origin[2]+t.direction[2]*u],c=ie(a,n),f=b(c,r),h=[c[0]-r[0]*f,c[1]-r[1]*f,c[2]-r[2]*f],g=ri(h);return Math.abs(g-i)<=o*2?u:null}static rayTorusParallel(t,n,r,i,o){const l=ie(n,t.origin);if(Math.abs(b(l,r))>o*2)return null;const u=i*3,a=40;for(let c=0;c<=a;c++){const f=c/a*u,h=[t.origin[0]+t.direction[0]*f,t.origin[1]+t.direction[1]*f,t.origin[2]+t.direction[2]*f],g=ie(h,n),v=b(g,r),x=[g[0]-r[0]*v,g[1]-r[1]*v,g[2]-r[2]*v],P=ri(x),p=Math.abs(P-i);if(Math.sqrt(p*p+v*v)<=o*2)return f}return null}static rayCubeDistance(t,n,r){const i=r/2,o=[n[0]-i,n[1]-i,n[2]-i],l=[n[0]+i,n[1]+i,n[2]+i];let s=-1/0,u=1/0;for(let a=0;a<3;a++)if(Math.abs(t.direction[a])<1e-4){if(t.origin[a]<o[a]||t.origin[a]>l[a])return null}else{const c=(o[a]-t.origin[a])/t.direction[a],f=(l[a]-t.origin[a])/t.direction[a],h=Math.min(c,f),g=Math.max(c,f);if(s=Math.max(s,h),u=Math.min(u,g),s>u)return null}return s>=0?s:u>=0?u:null}static rayAxisDistance(t,n,r,i,o){const l=ie(t.origin,n),s=t.direction,u=[s[1]*r[2]-s[2]*r[1],s[2]*r[0]-s[0]*r[2],s[0]*r[1]-s[1]*r[0]];if(Math.sqrt(u[0]**2+u[1]**2+u[2]**2)<1e-4){if(this.pointToLineDistance(l,[0,0,0],r)<o){const w=-b(l,s);return w>0?w:null}return null}const c=We(u);if(Math.abs(b(l,c))>o)return null;const h=b(s,s),g=b(s,r),v=b(r,r),x=b(s,l),P=b(r,l),p=h*v-g*g;if(Math.abs(p)<1e-4)return null;const d=(g*P-v*x)/p,m=(h*P-g*x)/p;return d<0||m<0||m>i?null:d}static rayPlaneDistance(t,n,r,i,o,l,s){const u=b(t.direction,r);if(Math.abs(u)<1e-4)return null;const a=b(ie(n,t.origin),r)/u;if(a<0)return null;const c=[t.origin[0]+a*t.direction[0],t.origin[1]+a*t.direction[1],t.origin[2]+a*t.direction[2]],f=ie(c,n),h=b(f,i),g=b(f,o);return h>=l&&h<=l+s&&g>=l&&g<=l+s?a:null}static pointToLineDistance(t,n,r){const i=ie(t,n),o=b(i,r),l=[n[0]+r[0]*o,n[1]+r[1]*o,n[2]+r[2]*o];return ri(ie(t,l))}}class Eo{static calculateDragPositionRayPlane(t,n,r,i,o){if(!t)return n;const{planeNormal:l,planePoint:s}=this.getConstraintPlane(t,n,o),u=this.rayPlaneIntersect(r,s,l),a=this.rayPlaneIntersect(i,s,l);if(!u||!a)return n;let c=ie(a,u);if(t==="x"||t==="y"||t==="z"){const f=t==="x"?[1,0,0]:t==="y"?[0,1,0]:[0,0,1],h=b(c,f);c=[f[0]*h,f[1]*h,f[2]*h]}return Tu(n,c)}static getConstraintPlane(t,n,r){let i;switch(t){case"x":{const o=Math.abs(r[1]),l=Math.abs(r[2]);i=o>l?[0,1,0]:[0,0,1];break}case"y":{const o=Math.abs(r[0]),l=Math.abs(r[2]);i=o>l?[1,0,0]:[0,0,1];break}case"z":{const o=Math.abs(r[0]),l=Math.abs(r[1]);i=o>l?[1,0,0]:[0,1,0];break}case"xy":i=[0,0,1];break;case"xz":i=[0,1,0];break;case"yz":i=[1,0,0];break;case"xyz":default:i=We([r[0],r[1],r[2]]);break}return{planeNormal:i,planePoint:n}}static rayPlaneIntersect(t,n,r){const i=b(t.direction,r);if(Math.abs(i)<1e-4)return null;const o=b(ie(n,t.origin),r)/i;return o<0?null:Tu(t.origin,gf(t.direction,o))}static snapToGrid(t,n){return[Math.round(t[0]/n)*n,Math.round(t[1]/n)*n,Math.round(t[2]/n)*n]}static applyPrecision(t,n,r=.1){return n?[t[0]*r,t[1]*r,t[2]*r]:t}}class Fn{static calculateRotation(t,n,r,i,o,l=.01){const s=i[0]-r[0],u=i[1]-r[1];if(t==="trackball")return[-u*l,s*l,0];let c=Math.sqrt(s*s+u*u)*l;const f=We(ie(o,n));b(f,t==="x"?[1,0,0]:t==="y"?[0,1,0]:[0,0,1])<0&&(c=-c);const g=Math.atan2(u,s);return t==="x"?c*=Math.sign(u)||Math.sign(-s):t==="y"?c*=Math.sign(s)||Math.sign(u):c*=Math.cos(g-Math.PI/4),t==="x"?[c,0,0]:t==="y"?[0,c,0]:[0,0,c]}static addRotation(t,n){return[t[0]+n[0],t[1]+n[1],t[2]+n[2]]}static snapAngle(t,n=15){const r=n*Math.PI/180;return Math.round(t/r)*r}static toDegrees(t){return t*180/Math.PI}static toRadians(t){return t*Math.PI/180}}class Wu{static calculateScale(t,n,r,i,o,l=.01){const s=i[0]-r[0],u=i[1]-r[1],a=(s-u)*l,c=Math.max(.1,1+a);if(t==="uniform"||o==="sphere")return[n[0]*c,n[1]*c,n[2]*c];const f=[n[0],n[1],n[2]];switch(t){case"x":f[0]=Math.max(.1,n[0]*c);break;case"y":f[1]=Math.max(.1,n[1]*c);break;case"z":f[2]=Math.max(.1,n[2]*c);break}return f}static snapScale(t,n=.25){return[Math.max(.1,Math.round(t[0]/n)*n),Math.max(.1,Math.round(t[1]/n)*n),Math.max(.1,Math.round(t[2]/n)*n)]}static get MIN_SCALE(){return .1}}function Fm({className:e,onRendererReady:t}){const n=z.useRef(null),r=z.useRef(null),i=z.useRef(null),[o,l]=z.useState("loading"),[s,u]=z.useState(null),a=z.useCallback((y,w)=>{const S=n.current,C=r.current;if(!S)return;const E=Math.min(window.devicePixelRatio||1,Vt.maxDpr),_=Math.max(1,Math.min(Vt.maxRenderSize,Math.floor(y*E))),j=Math.max(1,Math.min(Vt.maxRenderSize,Math.floor(w*E)));S.width=_,S.height=j,C&&C.resize(_,j)},[]);z.useEffect(()=>{const y=n.current;if(!y)return;let w=!0;return(async()=>{try{const C=await im(y);if(!w){C.device.destroy();return}C.device.lost.then(O=>{var D;w&&((D=r.current)==null||D.destroy(),r.current=null,l("error"),u(`WebGPU device lost${O!=null&&O.message?`: ${O.message}`:""}. Reload the page to continue.`))});const E=new Om(C);r.current=E;const _=new Am(y);i.current=_,_.onCameraChange=()=>{E.resetAccumulation()};const j=y.getBoundingClientRect();a(j.width,j.height),E.start(),l("ready"),t==null||t(E)}catch(C){if(!w)return;const E=C instanceof Error?C:new Error(String(C));l("error"),u(E.message)}})(),()=>{var C,E;w=!1,(C=i.current)==null||C.destroy(),i.current=null,(E=r.current)==null||E.destroy(),r.current=null}},[a,t]),z.useEffect(()=>{const y=n.current;if(!y)return;const w=new ResizeObserver(S=>{const C=S[0];if(!C)return;const{width:E,height:_}=C.contentRect;a(E,_)});return w.observe(y),()=>w.disconnect()},[a]);const c=z.useRef(null),f=z.useRef(null),h=z.useRef(null),g=z.useRef(null),v=5,x=z.useCallback(()=>{const y=Me.getState(),w=y.target,S=y.position,C=We(ie(w,S)),_=We(Mn(C,[0,1,0])),j=Mn(_,C);return{right:_,up:j,forward:C}},[]),P=z.useCallback(y=>{const w=n.current;if(!w)return;const S=w.getBoundingClientRect(),C=y.clientX-S.left,E=y.clientY-S.top,_=gt.getState(),j=V.getState();if(_.isDragging&&_.activeAxis&&_.dragStartMousePosition){const O=j.objects.find(D=>D.id===j.selectedObjectId);if(O){const D=Me.getState();if(_.mode==="translate"&&_.dragStartPosition&&f.current){const{forward:B}=x(),A=D.getViewMatrix(),he=S.width/S.height,Fe=it(D.fovY,he,.1,1e3),Be=xe(A),T=xe(Fe),L=qn(C,E,S.width,S.height,T,Be,D.position);let R=Eo.calculateDragPositionRayPlane(_.activeAxis,_.dragStartPosition,f.current,L,B);if((y.ctrlKey||y.metaKey)&&(R=Eo.snapToGrid(R,.5)),y.shiftKey&&!y.ctrlKey&&!y.metaKey){const $=ie(R,_.dragStartPosition),q=Eo.applyPrecision($,!0,.1);R=[_.dragStartPosition[0]+q[0],_.dragStartPosition[1]+q[1],_.dragStartPosition[2]+q[2]]}j.updateTransform(j.selectedObjectId,{position:R})}else if(_.mode==="rotate"&&h.current){const B=_.activeAxis;if(B==="x"||B==="y"||B==="z"||B==="trackball"){let A=Fn.calculateRotation(B,O.transform.position,_.dragStartMousePosition,[y.clientX,y.clientY],D.position);(y.ctrlKey||y.metaKey)&&(A=[Fn.snapAngle(A[0]),Fn.snapAngle(A[1]),Fn.snapAngle(A[2])]);const he=Fn.addRotation(h.current,A);j.updateTransform(j.selectedObjectId,{rotation:he})}}else if(_.mode==="scale"&&g.current){const B=_.activeAxis,A=B==="uniform"||B==="xy"||B==="xz"||B==="yz"||B==="xyz"||B==="trackball"?"uniform":B;let he=Wu.calculateScale(A,g.current,_.dragStartMousePosition,[y.clientX,y.clientY],O.type);(y.ctrlKey||y.metaKey)&&(he=Wu.snapScale(he)),j.updateTransform(j.selectedObjectId,{scale:he})}}return}if(j.selectedObjectId&&_.mode!=="none"){const O=j.objects.find(D=>D.id===j.selectedObjectId);if(O){const D=Me.getState(),B=D.getViewMatrix(),A=S.width/S.height,he=it(D.fovY,A,.1,1e3),Fe=xe(B),Be=xe(he),T=qn(C,E,S.width,S.height,Be,Fe,D.position),L=D.distance*.12,R=$u.pick(T,O.transform.position,L,_.mode);_.setHoveredAxis(R)}}},[x]),p=z.useCallback(y=>{c.current={x:y.clientX,y:y.clientY};const w=n.current;if(!w)return;const S=w.getBoundingClientRect(),C=y.clientX-S.left,E=y.clientY-S.top,_=gt.getState(),j=V.getState();if(j.selectedObjectId&&_.mode!=="none"){const O=j.objects.find(D=>D.id===j.selectedObjectId);if(O){const D=Me.getState(),B=D.getViewMatrix(),A=S.width/S.height,he=it(D.fovY,A,.1,1e3),Fe=xe(B),Be=xe(he),T=qn(C,E,S.width,S.height,Be,Fe,D.position),L=D.distance*.12,R=$u.pick(T,O.transform.position,L,_.mode);if(R){_.mode==="translate"?f.current=T:_.mode==="rotate"?h.current=[...O.transform.rotation]:_.mode==="scale"&&(g.current=[...O.transform.scale]),_.startDrag(R,O.transform.position,[y.clientX,y.clientY]),i.current&&i.current.setEnabled(!1);return}}}},[]),d=z.useCallback(y=>{var _;const w=gt.getState();if(w.isDragging){w.endDrag(),f.current=null,h.current=null,g.current=null,i.current&&i.current.setEnabled(!0),c.current=null;return}if(!c.current)return;const S=y.clientX-c.current.x,C=y.clientY-c.current.y;if(Math.sqrt(S*S+C*C)<v){const j=n.current;if(!j)return;const O=j.getBoundingClientRect(),D=y.clientX-O.left,B=y.clientY-O.top,A=Me.getState(),he=A.getViewMatrix(),Fe=j.width/j.height,Be=it(A.fovY,Fe,.1,1e3),T=xe(he),L=xe(Be),R=V.getState().objects,$=xf.pick(D,B,O.width,O.height,A.position,L,T,R);V.getState().selectObject($.objectId),(_=r.current)==null||_.resetAccumulation()}c.current=null},[]),m=z.useCallback(()=>{gt.getState().setHoveredAxis(null)},[]);return o==="error"?k.jsx("div",{className:`flex items-center justify-center bg-base ${e||""}`,children:k.jsxs("div",{className:"text-center p-8 max-w-md",children:[k.jsx("div",{className:"text-4xl mb-4",children:""}),k.jsx("h2",{className:"text-xl font-semibold mb-2 text-text-primary",children:"WebGPU Not Available"}),k.jsx("p",{className:"text-text-secondary mb-4",children:s}),k.jsxs("div",{className:"flex items-center justify-center gap-3",children:[k.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-accent rounded hover:bg-accent-hover text-white",children:"Reload"}),k.jsx("a",{href:"https://caniuse.com/webgpu",target:"_blank",rel:"noopener noreferrer",className:"text-accent hover:underline",children:"Check browser compatibility "})]})]})}):k.jsxs("div",{className:`relative w-full h-full ${e||""}`,children:[k.jsx("canvas",{ref:n,className:"absolute inset-0 w-full h-full",tabIndex:0,onMouseDown:p,onMouseUp:d,onMouseMove:P,onMouseLeave:m}),o==="loading"&&k.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-base z-10",children:k.jsxs("div",{className:"text-center",children:[k.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-accent border-t-transparent rounded-full mx-auto mb-4"}),k.jsx("p",{className:"text-text-secondary",children:"Initializing WebGPU..."})]})})]})}function Bm(){z.useEffect(()=>{const e=t=>{if(t.target instanceof HTMLInputElement||t.target instanceof HTMLTextAreaElement)return;const r=navigator.platform.includes("Mac")?t.metaKey:t.ctrlKey;if(r&&t.key==="z"&&!t.shiftKey){t.preventDefault(),V.getState().undo();return}if(r&&(t.key==="z"&&t.shiftKey||t.key==="y")){t.preventDefault(),V.getState().redo();return}if(t.key==="Delete"||t.key==="Backspace"){t.preventDefault(),V.getState().deleteSelected();return}if(r&&t.key==="d"){t.preventDefault(),V.getState().duplicateSelected();return}};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[])}function Um(){const e=z.useRef(null);Bm();const t=z.useCallback(n=>{e.current=n},[]);return k.jsxs("div",{className:"w-screen h-screen flex flex-col bg-base text-text-primary overflow-hidden font-sans",children:[k.jsxs("div",{className:"flex-1 flex min-h-0",children:[k.jsx(Xh,{}),k.jsx("main",{className:"flex-1 relative",children:k.jsx(Fm,{className:"absolute inset-0",onRendererReady:t})}),k.jsx(tm,{})]}),k.jsx(nm,{rendererRef:e})]})}Po.createRoot(document.getElementById("root")).render(k.jsx(ia.StrictMode,{children:k.jsx(Um,{})}));
